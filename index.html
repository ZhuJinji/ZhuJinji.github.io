<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/jinji-32.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/jinji-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/jinji-16.png">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"./public/search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Jinji&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Jinji&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jinji">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Jinji's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jinji's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">步履不停</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="search-pop-overlay">
  <div class="popup search-popup">
      <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

  </div>
</div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/01/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/yamei.png">
      <meta itemprop="name" content="Jinji">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jinji's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/04/01/MySQL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">MySQL学习笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-04-01 21:23:04 / 修改时间：21:31:07" itemprop="dateCreated datePublished" datetime="2020-04-01T21:23:04+08:00">2020-04-01</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="��¼���˳�MySQL������"><a href="#��¼���˳�MySQL������" class="headerlink" title="��¼���˳�MySQL������"></a>��¼���˳�MySQL������</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># ��¼MySQL</span><br><span class="line">$ mysql -u root -p12345612</span><br><span class="line"></span><br><span class="line"># �˳�MySQL���ݿ������</span><br><span class="line">exit;</span><br></pre></td></tr></table></figure>
<h2 id="�����﷨"><a href="#�����﷨" class="headerlink" title="�����﷨"></a>�����﷨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ��ʾ�������ݿ�</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �������ݿ�</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">test</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �л����ݿ�</span></span><br><span class="line"><span class="keyword">use</span> <span class="keyword">test</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ʾ���ݿ��е����б�</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �������ݱ�</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> pet (</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    owner <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    species <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    sex <span class="built_in">CHAR</span>(<span class="number">1</span>),</span><br><span class="line">    birth <span class="built_in">DATE</span>,</span><br><span class="line">    death <span class="built_in">DATE</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �鿴���ݱ��ṹ</span></span><br><span class="line"><span class="comment">-- describe pet;</span></span><br><span class="line">desc pet;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ��</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">from</span> pet;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��������</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> pet <span class="keyword">VALUES</span> (<span class="string">'puffball'</span>, <span class="string">'Diane'</span>, <span class="string">'hamster'</span>, <span class="string">'f'</span>, <span class="string">'1990-03-30'</span>, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �޸�����</span></span><br><span class="line"><span class="keyword">UPDATE</span> pet <span class="keyword">SET</span> <span class="keyword">name</span> = <span class="string">'squirrel'</span> <span class="keyword">where</span> owner = <span class="string">'Diane'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ɾ������</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> pet <span class="keyword">where</span> <span class="keyword">name</span> = <span class="string">'squirrel'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ɾ����</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> myorder;</span><br></pre></td></tr></table></figure>


<h2 id="������������"><a href="#������������" class="headerlink" title="������������"></a>������������</h2><p>MySQL֧�ֶ������ͣ����¿��Է�Ϊ���ࣺ��ֵ�͡������͡�����/ʱ����ַ���(�ַ�)���͡�</p>
<p><strong>��ֵ����</strong><br>MySQL֧�����б�׼SQL��ֵ�������͡�</p>
<p>��Щ���Ͱ����ϸ���ֵ��������(INTEGER��SMALLINT��DECIMAL��NUMERIC)���Լ�������ֵ��������(FLOAT��REAL��DOUBLE PRECISION)��</p>
<p>�ؼ���INT��INTEGER��ͬ��ʣ��ؼ���DEC��DECIMAL��ͬ��ʡ�</p>
<p>BIT�������ͱ���λ�ֶ�ֵ������֧��MyISAM��MEMORY��InnoDB��BDB����</p>
<p>��ΪSQL��׼����չ��MySQLҲ֧����������TINYINT��MEDIUMINT��BIGINT������ı���ʾ����Ҫ��ÿ���������͵Ĵ洢�ͷ�Χ��<br><img src="https://img-blog.csdnimg.cn/20200330204540755.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="���������ͼƬ����"><br><strong>���ں�ʱ������</strong><img src="https://img-blog.csdnimg.cn/20200330204706142.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="���������ͼƬ����"></p>
<p><strong>�ַ�������</strong><br><img src="https://img-blog.csdnimg.cn/20200330204756907.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="���������ͼƬ����"><br><strong>�����������ѡ��</strong><br>���ڰ��ո�ʽ����ֵ���ַ������մ�С��</p>
<h2 id="����Լ��"><a href="#����Լ��" class="headerlink" title="����Լ��"></a>����Լ��</h2><h3 id="����Լ��-1"><a href="#����Լ��-1" class="headerlink" title="����Լ��"></a>����Լ��</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����Լ��</span></span><br><span class="line"><span class="comment">-- ʹĳ���ֶβ��ظ��Ҳ���Ϊ�գ�ȷ�������������ݵ�Ψһ�ԡ�</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��������</span></span><br><span class="line"><span class="comment">-- ���������е�ÿ���ֶζ�����Ϊ�գ����Ҽ��������ܺ������õ����������ظ���</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">password</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span>(<span class="keyword">id</span>, <span class="keyword">name</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����Լ��</span></span><br><span class="line"><span class="comment">-- ����Լ����������ϵͳ�Զ��������䡣</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��������Լ��</span></span><br><span class="line"><span class="comment">-- �����������������������ͨ��SQL������ã����ַ�ʽ����</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">ADD</span> PRIMARY <span class="keyword">KEY</span>(<span class="keyword">id</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">MODIFY</span> <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ɾ������</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">drop</span> PRIMARY <span class="keyword">KEY</span>;</span><br></pre></td></tr></table></figure>
<h3 id="ΨһԼ��"><a href="#ΨһԼ��" class="headerlink" title="ΨһԼ��"></a>ΨһԼ��</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����ʱ����Ψһ����</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="keyword">UNIQUE</span>(<span class="keyword">name</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����Ψһ����</span></span><br><span class="line"><span class="comment">-- �������ʱû������Ψһ����������ͨ��SQL������ã����ַ�ʽ����</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span>(<span class="keyword">name</span>);</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">MODIFY</span> <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">UNIQUE</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ɾ��Ψһ����</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">DROP</span> <span class="keyword">INDEX</span> <span class="keyword">name</span>;</span><br></pre></td></tr></table></figure>
<h3 id="�o�Լ��"><a href="#�o�Լ��" class="headerlink" title="�ǿ�Լ��"></a>�ǿ�Լ��</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����ʱ���ӷǿ�Լ��</span></span><br><span class="line"><span class="comment">-- Լ��ĳ���ֶβ���Ϊ��</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �Ƴ��ǿ�Լ��</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">MODIFY</span> <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>
<h3 id="I��Լ��"><a href="#I��Լ��" class="headerlink" title="Ĭ��Լ��"></a>Ĭ��Լ��</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����ʱ����Ĭ��Լ��</span></span><br><span class="line"><span class="comment">-- Լ��ĳ���ֶε�Ĭ��ֵ</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> user2 (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="built_in">INT</span> <span class="keyword">DEFAULT</span> <span class="number">10</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �Ƴ��ǿ�Լ��</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> <span class="keyword">MODIFY</span> age <span class="built_in">INT</span>;</span><br></pre></td></tr></table></figure>
<h3 id="���Լ��"><a href="#���Լ��" class="headerlink" title="���Լ��"></a>���Լ��</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �༶</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> classes (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ѧ����</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> students (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    <span class="comment">-- ����� class_id Ҫ�� classes �е� id �ֶ������</span></span><br><span class="line">    class_id <span class="built_in">INT</span>,</span><br><span class="line">    <span class="comment">-- ��ʾ class_id ��ֵ���������� classes �е� id �ֶ�ֵ</span></span><br><span class="line">    <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>(class_id) <span class="keyword">REFERENCES</span> classes(<span class="keyword">id</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1. ������������classes ��û�е�����ֵ���ڸ������ӱ���students �У��ǲ�����ʹ�õģ�</span></span><br><span class="line"><span class="comment">-- 2. �����еļ�¼����������ʱ�����������Ա�ɾ����</span></span><br></pre></td></tr></table></figure>

<h2 id="���ݿ��������Ʒ�ʽ"><a href="#���ݿ��������Ʒ�ʽ" class="headerlink" title="���ݿ��������Ʒ�ʽ"></a>���ݿ��������Ʒ�ʽ</h2><h3 id="1NF"><a href="#1NF" class="headerlink" title="1NF"></a>1NF</h3><p>ֻҪ�ֶ�ֵ�����Լ�����֣��Ͳ������һ��ʽ��</p>
<p>��ʽ��Ƶ�Խ��ϸ����ĳЩʵ�ʲ������ܻ���ã������Ƕ��кô�����Ҫ����Ŀ��ʵ����������趨��</p>
<h3 id="2NF"><a href="#2NF" class="headerlink" title="2NF"></a>2NF</h3><p>�������һ��ʽ��ǰ���£������ж�������ȫ�����������С�������ֲ���ȫ������ֻ���ܷ�������������������£�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ������</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> myorder (</span><br><span class="line">    product_id <span class="built_in">INT</span>,</span><br><span class="line">    customer_id <span class="built_in">INT</span>,</span><br><span class="line">    product_name <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    customer_name <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (product_id, customer_id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ʵ���ϣ������Ŷ������У�<code>product_name</code>ֻ������ <code>product_id</code>��<code>customer_name</code>ֻ������<code>customer_id</code>��Ҳ����˵��<code>product_name</code>�� <code>customer_id</code>��û�ù�ϵ�ģ�<code>customer_name</code>�� <code>product_id</code>Ҳ��û�й�ϵ�ġ�</p>
<p>��Ͳ�����ڶ���ʽ�������ж�������ȫ�����������У�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> myorder (</span><br><span class="line">    order_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    product_id <span class="built_in">INT</span>,</span><br><span class="line">    customer_id <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> product (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>���֮��<code>myorder</code>���е� <code>product_id</code>�� <code>customer_id</code>��ȫ������ <code>order_id</code>�������� <code>product</code>�� <code>customer</code>���е������ֶ�����ȫ�����������������˵ڶ���ʽ����ƣ�</p>
<h3 id="3NF"><a href="#3NF" class="headerlink" title="3NF"></a>3NF</h3><p>������ڶ���ʽ��ǰ���£�����������֮�⣬������֮�䲻���д���������ϵ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> myorder (</span><br><span class="line">    order_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    product_id <span class="built_in">INT</span>,</span><br><span class="line">    customer_id <span class="built_in">INT</span>,</span><br><span class="line">    customer_phone <span class="built_in">VARCHAR</span>(<span class="number">15</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>���е� <code>customer_phone</code> �п��������� <code>order_id</code> �� <code>customer_id</code> ���У�Ҳ�Ͳ������˵�����ʽ����ƣ�������֮�䲻���д���������ϵ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> myorder (</span><br><span class="line">    order_id <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    product_id <span class="built_in">INT</span>,</span><br><span class="line">    customer_id <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> customer (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    phone <span class="built_in">VARCHAR</span>(<span class="number">15</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>�޸ĺ�Ͳ�����������֮��Ĵ���������ϵ�������ж�ֻ�����������У������˵�����ʽ����ƣ�</p>
<h2 id="��ѯ��ϰ"><a href="#��ѯ��ϰ" class="headerlink" title="��ѯ��ϰ"></a>��ѯ��ϰ</h2><h3 id="׼������"><a href="#׼������" class="headerlink" title="׼������"></a>׼������</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �������ݿ�</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> select_test;</span><br><span class="line"><span class="comment">-- �л����ݿ�</span></span><br><span class="line"><span class="keyword">USE</span> select_test;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����ѧ����</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> student (</span><br><span class="line">    <span class="keyword">no</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    sex <span class="built_in">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    birthday <span class="built_in">DATE</span>, <span class="comment">-- ����</span></span><br><span class="line">    <span class="keyword">class</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="comment">-- ���ڰ༶</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ������ʦ��</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> teacher (</span><br><span class="line">    <span class="keyword">no</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    sex <span class="built_in">VARCHAR</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    birthday <span class="built_in">DATE</span>,</span><br><span class="line">    profession <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>, <span class="comment">-- ְ��</span></span><br><span class="line">    department <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="comment">-- ����</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �����γ̱�</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> course (</span><br><span class="line">    <span class="keyword">no</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">    t_no <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>, <span class="comment">-- ��ʦ���</span></span><br><span class="line">    <span class="comment">-- ��ʾ�� tno ������ teacher ���е� no �ֶ�ֵ</span></span><br><span class="line">    <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>(t_no) <span class="keyword">REFERENCES</span> teacher(<span class="keyword">no</span>) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ɼ���</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> score (</span><br><span class="line">    s_no <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>, <span class="comment">-- ѧ�����</span></span><br><span class="line">    c_no <span class="built_in">VARCHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>, <span class="comment">-- �γ̺�</span></span><br><span class="line">    degree <span class="built_in">DECIMAL</span>,	<span class="comment">-- �ɼ�</span></span><br><span class="line">    <span class="comment">-- ��ʾ�� s_no, c_no �ֱ������� student, course ���е� no �ֶ�ֵ</span></span><br><span class="line">    <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>(s_no) <span class="keyword">REFERENCES</span> student(<span class="keyword">no</span>),	</span><br><span class="line">    <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span>(c_no) <span class="keyword">REFERENCES</span> course(<span class="keyword">no</span>),</span><br><span class="line">    <span class="comment">-- ���� s_no, c_no Ϊ��������</span></span><br><span class="line">    PRIMARY <span class="keyword">KEY</span>(s_no, c_no)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �鿴���б�</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">TABLES</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����ѧ��������</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'101'</span>, <span class="string">'����'</span>, <span class="string">'��'</span>, <span class="string">'1977-09-01'</span>, <span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'102'</span>, <span class="string">'����'</span>, <span class="string">'��'</span>, <span class="string">'1975-10-02'</span>, <span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'103'</span>, <span class="string">'����'</span>, <span class="string">'Ů'</span>, <span class="string">'1976-01-23'</span>, <span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'104'</span>, <span class="string">'���'</span>, <span class="string">'��'</span>, <span class="string">'1976-02-20'</span>, <span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'105'</span>, <span class="string">'����'</span>, <span class="string">'Ů'</span>, <span class="string">'1975-02-10'</span>, <span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'106'</span>, <span class="string">'½��'</span>, <span class="string">'��'</span>, <span class="string">'1974-06-03'</span>, <span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'107'</span>, <span class="string">'������'</span>, <span class="string">'��'</span>, <span class="string">'1976-02-20'</span>, <span class="string">'95033'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'108'</span>, <span class="string">'��ȫ��'</span>, <span class="string">'��'</span>, <span class="string">'1975-02-10'</span>, <span class="string">'95031'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student <span class="keyword">VALUES</span>(<span class="string">'109'</span>, <span class="string">'������'</span>, <span class="string">'��'</span>, <span class="string">'1974-06-03'</span>, <span class="string">'95031'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ���ӽ�ʦ������</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher <span class="keyword">VALUES</span>(<span class="string">'804'</span>, <span class="string">'���'</span>, <span class="string">'��'</span>, <span class="string">'1958-12-02'</span>, <span class="string">'������'</span>, <span class="string">'�����ϵ'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher <span class="keyword">VALUES</span>(<span class="string">'856'</span>, <span class="string">'����'</span>, <span class="string">'��'</span>, <span class="string">'1969-03-12'</span>, <span class="string">'��ʦ'</span>, <span class="string">'���ӹ���ϵ'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher <span class="keyword">VALUES</span>(<span class="string">'825'</span>, <span class="string">'��Ƽ'</span>, <span class="string">'Ů'</span>, <span class="string">'1972-05-05'</span>, <span class="string">'����'</span>, <span class="string">'�����ϵ'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher <span class="keyword">VALUES</span>(<span class="string">'831'</span>, <span class="string">'����'</span>, <span class="string">'Ů'</span>, <span class="string">'1977-08-14'</span>, <span class="string">'����'</span>, <span class="string">'���ӹ���ϵ'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ���ӿγ̱�����</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> course <span class="keyword">VALUES</span>(<span class="string">'3-105'</span>, <span class="string">'���������'</span>, <span class="string">'825'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> course <span class="keyword">VALUES</span>(<span class="string">'3-245'</span>, <span class="string">'����ϵͳ'</span>, <span class="string">'804'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> course <span class="keyword">VALUES</span>(<span class="string">'6-166'</span>, <span class="string">'���ֵ�·'</span>, <span class="string">'856'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> course <span class="keyword">VALUES</span>(<span class="string">'9-888'</span>, <span class="string">'�ߵ���ѧ'</span>, <span class="string">'831'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �������ӳɼ�������</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'103'</span>, <span class="string">'3-105'</span>, <span class="string">'92'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'103'</span>, <span class="string">'3-245'</span>, <span class="string">'86'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'103'</span>, <span class="string">'6-166'</span>, <span class="string">'85'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'105'</span>, <span class="string">'3-105'</span>, <span class="string">'88'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'105'</span>, <span class="string">'3-245'</span>, <span class="string">'75'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'105'</span>, <span class="string">'6-166'</span>, <span class="string">'79'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'109'</span>, <span class="string">'3-105'</span>, <span class="string">'76'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'109'</span>, <span class="string">'3-245'</span>, <span class="string">'68'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span>(<span class="string">'109'</span>, <span class="string">'6-166'</span>, <span class="string">'81'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �鿴���ṹ</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> course;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> teacher;</span><br></pre></td></tr></table></figure>

<h3 id="1��10"><a href="#1��10" class="headerlink" title="1��10"></a>1��10</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ��ѯ student ����������</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ student ���е� name��sex �� class �ֶε�������</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, sex, <span class="keyword">class</span> <span class="keyword">FROM</span> student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ teacher ���в��ظ��� department ��</span></span><br><span class="line"><span class="comment">-- department: ȥ�ز�ѯ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> department <span class="keyword">FROM</span> teacher;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ score ���гɼ���60-80֮��������У������ѯ���������ѯ��</span></span><br><span class="line"><span class="comment">-- BETWEEN xx AND xx: ��ѯ����, AND ��ʾ "����"</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree <span class="keyword">BETWEEN</span> <span class="number">60</span> <span class="keyword">AND</span> <span class="number">80</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree &gt; <span class="number">60</span> <span class="keyword">AND</span> degree &lt; <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ score ���гɼ�Ϊ 85, 86 �� 88 ����</span></span><br><span class="line"><span class="comment">-- IN: ��ѯ�涨�еĶ��ֵ</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree <span class="keyword">IN</span> (<span class="number">85</span>, <span class="number">86</span>, <span class="number">88</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ student ���� '95031' ����Ա�Ϊ 'Ů' ��������</span></span><br><span class="line"><span class="comment">-- or: ��ʾ���߹�ϵ</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">class</span> = <span class="string">'95031'</span> <span class="keyword">or</span> sex = <span class="string">'Ů'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �� class ����ķ�ʽ��ѯ student ����������</span></span><br><span class="line"><span class="comment">-- DESC: ���򣬴Ӹߵ���</span></span><br><span class="line"><span class="comment">-- ASC��Ĭ�ϣ�: ���򣬴ӵ͵���</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">class</span> <span class="keyword">DESC</span>;</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">class</span> <span class="keyword">ASC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �� c_no ����degree �����ѯ score ����������</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">ORDER</span> <span class="keyword">BY</span> c_no <span class="keyword">ASC</span>, degree <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ "95031" ���ѧ������</span></span><br><span class="line"><span class="comment">-- COUNT: ͳ��</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">class</span> = <span class="string">'95031'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ score ���е���߷ֵ�ѧ��ѧ�źͿγ̱�ţ��Ӳ�ѯ�������ѯ����</span></span><br><span class="line"><span class="comment">-- (SELECT MAX(degree) FROM score): �Ӳ�ѯ�������߷�</span></span><br><span class="line"><span class="keyword">SELECT</span> s_no, c_no <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree = (<span class="keyword">SELECT</span> <span class="keyword">MAX</span>(degree) <span class="keyword">FROM</span> score);</span><br><span class="line"></span><br><span class="line"><span class="comment">--  �����ѯ</span></span><br><span class="line"><span class="comment">-- LIMIT r, n: ��ʾ�ӵ�r�п�ʼ����ѯn������</span></span><br><span class="line"><span class="keyword">SELECT</span> s_no, c_no, degree <span class="keyword">FROM</span> score <span class="keyword">ORDER</span> <span class="keyword">BY</span> degree <span class="keyword">DESC</span> <span class="keyword">LIMIT</span> <span class="number">0</span>, <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h3 id="�������ƽ���ɼ�"><a href="#�������ƽ���ɼ�" class="headerlink" title="�������ƽ���ɼ�"></a>�������ƽ���ɼ�</h3><p>��ѯÿ�ſε�ƽ���ɼ���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- AVG: ƽ��ֵ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-105'</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'6-166'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- GROUP BY: �����ѯ</span></span><br><span class="line"><span class="keyword">SELECT</span> c_no, <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no;</span><br></pre></td></tr></table></figure>

<h3 id="����������g����ѯ"><a href="#����������g����ѯ" class="headerlink" title="����������ģ����ѯ"></a>����������ģ����ѯ</h3><p>��ѯ <code>score</code> ���������� 2 ��ѧ��ѡ�ޣ����� 3 ��ͷ�Ŀγ̵�ƽ��������</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score;</span><br><span class="line"><span class="comment">-- c_no �γ̱��</span></span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 103  | 6-166 |     85 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>���������֣������� 2 ��ѧ��ѡ�޵Ŀγ��� 3-105 ��3-245 ��6-166 ���� 3 ��ͷ�Ŀγ��� 3-105 ��3-245 ��Ҳ����˵������Ҫ��ѯ���� 3-105 �� 3-245 �� <code>degree</code> ƽ���֡�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ���Ȱ� c_no, AVG(degree) ͨ�������ѯ����</span></span><br><span class="line"><span class="keyword">SELECT</span> c_no, <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line">| c_no  | <span class="keyword">AVG</span>(degree) |</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line">| <span class="number">3</span><span class="number">-105</span> |     <span class="number">85.3333</span> |</span><br><span class="line">| <span class="number">3</span><span class="number">-245</span> |     <span class="number">76.3333</span> |</span><br><span class="line">| <span class="number">6</span><span class="number">-166</span> |     <span class="number">81.6667</span> |</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ٲ�ѯ�������� 2 ��ѧ��ѡ�޵Ŀγ�</span></span><br><span class="line"><span class="comment">-- HAVING: ��ʾ���У����˷��飬GROUP BY�� HAVING����ʹ��</span></span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(c_no) &gt;= <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �������� 3 ��ͷ�Ŀγ�</span></span><br><span class="line"><span class="comment">-- LIKE ��ʾģ����ѯ��"%" ��һ��ͨ�����ƥ�� "3" ����������ַ���</span></span><br><span class="line"><span class="keyword">AND</span> c_no <span class="keyword">LIKE</span> <span class="string">'3%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ǰ���SQL���ƴ��������</span></span><br><span class="line"><span class="comment">-- �������һ�� COUNT(*)����ʾ��ÿ������ĸ���Ҳ��ѯ������</span></span><br><span class="line"><span class="keyword">SELECT</span> c_no, <span class="keyword">AVG</span>(degree), <span class="keyword">COUNT</span>(*) <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(c_no) &gt;= <span class="number">2</span> <span class="keyword">AND</span> c_no <span class="keyword">LIKE</span> <span class="string">'3%'</span>;</span><br><span class="line">+<span class="comment">-------+-------------+----------+</span></span><br><span class="line">| c_no  | AVG(degree) | COUNT(*) |</span><br><span class="line">+<span class="comment">-------+-------------+----------+</span></span><br><span class="line">| 3-105 |     85.3333 |        3 |</span><br><span class="line">| 3-245 |     76.3333 |        3 |</span><br><span class="line">+<span class="comment">-------+-------------+----------+</span></span><br></pre></td></tr></table></figure>
<h3 id="�����ѯ-1"><a href="#�����ѯ-1" class="headerlink" title="�����ѯ - 1"></a>�����ѯ - 1</h3><p>��ѯ����ѧ���� <code>name</code>���Լ���ѧ���� <code>score</code> ���ж�Ӧ�� <code>c_no</code> �� <code>degree</code> ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, <span class="keyword">name</span> <span class="keyword">FROM</span> student;</span><br><span class="line">+<span class="comment">-----+-----------+</span></span><br><span class="line">| no  | name      |</span><br><span class="line">+<span class="comment">-----+-----------+</span></span><br><span class="line">| 101 | ����      |</span><br><span class="line">| 102 | ����      |</span><br><span class="line">| 103 | ����      |</span><br><span class="line">| 104 | ���      |</span><br><span class="line">| 105 | ����      |</span><br><span class="line">| 106 | ½��      |</span><br><span class="line">| 107 | ������    |</span><br><span class="line">| 108 | ��ȫ��    |</span><br><span class="line">| 109 | ������    |</span><br><span class="line">+<span class="comment">-----+-----------+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> s_no, c_no, degree <span class="keyword">FROM</span> score;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 103  | 6-166 |     85 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>ͨ���������Է��֣�ֻҪ�� <code>score</code> ���е� <code>s_no</code> �ֶ�ֵ�滻�� <code>student</code> ���ж�Ӧ�� <code>name</code> �ֶ�ֵ�Ϳ����ˣ�������أ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- FROM...: ��ʾ�� student, score ���в�ѯ</span></span><br><span class="line"><span class="comment">-- WHERE ��������ʾΪ��ֻ���� student.no �� score.s_no ���ʱ����ʾ������</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, c_no, degree <span class="keyword">FROM</span> student, score </span><br><span class="line"><span class="keyword">WHERE</span> student.no = score.s_no;</span><br><span class="line">+<span class="comment">-----------+-------+--------+</span></span><br><span class="line">| name      | c_no  | degree |</span><br><span class="line">+<span class="comment">-----------+-------+--------+</span></span><br><span class="line">| ����      | 3-105 |     92 |</span><br><span class="line">| ����      | 3-245 |     86 |</span><br><span class="line">| ����      | 6-166 |     85 |</span><br><span class="line">| ����      | 3-105 |     88 |</span><br><span class="line">| ����      | 3-245 |     75 |</span><br><span class="line">| ����      | 6-166 |     79 |</span><br><span class="line">| ������    | 3-105 |     76 |</span><br><span class="line">| ������    | 3-245 |     68 |</span><br><span class="line">| ������    | 6-166 |     81 |</span><br><span class="line">+<span class="comment">-----------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<h3 id="�����ѯ-2"><a href="#�����ѯ-2" class="headerlink" title="�����ѯ - 2"></a>�����ѯ - 2</h3><p><strong>��ѯ����ѧ���� <code>no</code> ���γ����� ( <code>course</code> ���е� <code>name</code> ) �ͳɼ� ( <code>score</code> ���е� <code>degree</code> ) �С�</strong></p>
<p>ֻ�� score ����ѧ���� <code>no</code> �����ֻҪ��ѯ <code>score</code> ���������ҳ����к�ѧ����ص� <code>no</code> �� <code>degree</code> ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s_no, c_no, degree <span class="keyword">FROM</span> score;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 103  | 6-166 |     85 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>Ȼ���ѯ <code>course</code> ����</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+<span class="comment">-------+-----------------+</span></span><br><span class="line">| no    | name            |</span><br><span class="line">+<span class="comment">-------+-----------------+</span></span><br><span class="line">| 3-105 | ���������      |</span><br><span class="line">| 3-245 | ����ϵͳ        |</span><br><span class="line">| 6-166 | ���ֵ�·        |</span><br><span class="line">| 9-888 | �ߵ���ѧ        |</span><br><span class="line">+<span class="comment">-------+-----------------+</span></span><br></pre></td></tr></table></figure>
<p>ֻҪ�� <code>score</code> ���е� <code>c_no</code> �滻�� <code>course</code> ���ж�Ӧ�� <code>name</code> �ֶ�ֵ�Ϳ����ˡ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����һ����ѯ�ֶ� name���ֱ�� score��course ���������в�ѯ��</span></span><br><span class="line"><span class="comment">-- as ��ʾȡһ�����ֶεı�����</span></span><br><span class="line"><span class="keyword">SELECT</span> s_no, <span class="keyword">name</span> <span class="keyword">as</span> c_name, degree <span class="keyword">FROM</span> score, course</span><br><span class="line"><span class="keyword">WHERE</span> score.c_no = course.no;</span><br><span class="line">+<span class="comment">------+-----------------+--------+</span></span><br><span class="line">| s_no | c_name          | degree |</span><br><span class="line">+<span class="comment">------+-----------------+--------+</span></span><br><span class="line">| 103  | ���������      |     92 |</span><br><span class="line">| 105  | ���������      |     88 |</span><br><span class="line">| 109  | ���������      |     76 |</span><br><span class="line">| 103  | ����ϵͳ        |     86 |</span><br><span class="line">| 105  | ����ϵͳ        |     75 |</span><br><span class="line">| 109  | ����ϵͳ        |     68 |</span><br><span class="line">| 103  | ���ֵ�·        |     85 |</span><br><span class="line">| 105  | ���ֵ�·        |     79 |</span><br><span class="line">| 109  | ���ֵ�·        |     81 |</span><br><span class="line">+<span class="comment">------+-----------------+--------+</span></span><br></pre></td></tr></table></figure>
<h3 id="����������ѯ"><a href="#����������ѯ" class="headerlink" title="����������ѯ"></a>����������ѯ</h3><p><strong>��ѯ����ѧ���� <code>name</code> ���γ��� ( <code>course</code> ���е� <code>name</code> ) �� <code>degree</code> ��</strong></p>
<p>ֻ�� <code>score</code> ���й���ѧ����ѧ�źͿ��úţ�����ֻҪΧ���� score ���ű���ѯ�ͺ��ˡ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 103  | 6-166 |     85 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>ֻҪ�� <code>s_no</code> �� <code>c_no</code> �滻�� <code>student</code> �� <code>srouse</code> ���ж�Ӧ�� <code>name</code> �ֶ�ֵ�ͺ��ˡ�</p>
<p>���Ȱ� <code>s_no</code> �滻�� <code>student</code> ���е� <code>name</code> �ֶΣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, c_no, degree <span class="keyword">FROM</span> student, score <span class="keyword">WHERE</span> student.no = score.s_no;</span><br><span class="line">+<span class="comment">-----------+-------+--------+</span></span><br><span class="line">| name      | c_no  | degree |</span><br><span class="line">+<span class="comment">-----------+-------+--------+</span></span><br><span class="line">| ����      | 3-105 |     92 |</span><br><span class="line">| ����      | 3-245 |     86 |</span><br><span class="line">| ����      | 6-166 |     85 |</span><br><span class="line">| ����      | 3-105 |     88 |</span><br><span class="line">| ����      | 3-245 |     75 |</span><br><span class="line">| ����      | 6-166 |     79 |</span><br><span class="line">| ������    | 3-105 |     76 |</span><br><span class="line">| ������    | 3-245 |     68 |</span><br><span class="line">| ������    | 6-166 |     81 |</span><br><span class="line">+<span class="comment">-----------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>�ٰ� <code>c_no</code> �滻�� <code>course</code> ���е� <code>name</code> �ֶΣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �γ̱�</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, <span class="keyword">name</span> <span class="keyword">FROM</span> course;</span><br><span class="line">+<span class="comment">-------+-----------------+</span></span><br><span class="line">| no    | name            |</span><br><span class="line">+<span class="comment">-------+-----------------+</span></span><br><span class="line">| 3-105 | ���������      |</span><br><span class="line">| 3-245 | ����ϵͳ        |</span><br><span class="line">| 6-166 | ���ֵ�·        |</span><br><span class="line">| 9-888 | �ߵ���ѧ        |</span><br><span class="line">+<span class="comment">-------+-----------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �����ֶ��������ظ���ʹ�� "����.�ֶ��� as ����" ���档</span></span><br><span class="line"><span class="keyword">SELECT</span> student.name <span class="keyword">as</span> s_name, course.name <span class="keyword">as</span> c_name, degree </span><br><span class="line"><span class="keyword">FROM</span> student, score, course</span><br><span class="line"><span class="keyword">WHERE</span> student.NO = score.s_no</span><br><span class="line"><span class="keyword">AND</span> score.c_no = course.no;</span><br></pre></td></tr></table></figure>
<h3 id="�Ӳ�ѯ�ӷ�����ƽ����"><a href="#�Ӳ�ѯ�ӷ�����ƽ����" class="headerlink" title="�Ӳ�ѯ�ӷ�����ƽ����"></a>�Ӳ�ѯ�ӷ�����ƽ����</h3><p><strong>��ѯ 95031 ��ѧ��ÿ�ſγ̵�ƽ���ɼ���</strong></p>
<p>�� <code>score</code> ���и��� <code>student</code> ����ѧ�����ɸѡ��ѧ���Ŀ��úźͳɼ���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- IN (..): ��ɸѡ����ѧ���ŵ��� s_no ��������ѯ</span></span><br><span class="line"><span class="keyword">SELECT</span> s_no, c_no, degree <span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> s_no <span class="keyword">IN</span> (<span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">class</span> = <span class="string">'95031'</span>);</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>��ʱֻҪ�� c_no ����һ�¾��ܵó� 95031 ��ѧ��ÿ�ſε�ƽ���ɼ���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> c_no, <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> s_no <span class="keyword">IN</span> (<span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">class</span> = <span class="string">'95031'</span>)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no;</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line">| c_no  | AVG(degree) |</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line">| 3-105 |     82.0000 |</span><br><span class="line">| 3-245 |     71.5000 |</span><br><span class="line">| 6-166 |     80.0000 |</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br></pre></td></tr></table></figure>

<h3 id="�Ӳ�ѯ-1"><a href="#�Ӳ�ѯ-1" class="headerlink" title="�Ӳ�ѯ - 1"></a>�Ӳ�ѯ - 1</h3><p><strong>��ѯ�� 3-105 �γ��У����гɼ����� 109 ��ͬѧ�ļ�¼��</strong></p>
<p>����ɸѡ�����ú�Ϊ 3-105 �����ҳ����гɼ����� 109 ��ͬѧ�ĵ��С�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score </span><br><span class="line"><span class="keyword">WHERE</span> c_no = <span class="string">'3-105'</span></span><br><span class="line"><span class="keyword">AND</span> degree &gt; (<span class="keyword">SELECT</span> degree <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> s_no = <span class="string">'109'</span> <span class="keyword">AND</span> c_no = <span class="string">'3-105'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="�Ӳ�ѯ-2"><a href="#�Ӳ�ѯ-2" class="headerlink" title="�Ӳ�ѯ - 2"></a>�Ӳ�ѯ - 2</h3><p><strong>��ѯ���гɼ����� 109 ��ͬѧ�� 3-105 �γ̳ɼ���¼��</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �����ƿγ̺ţ�ֻҪ�ɼ�����109��ͬѧ��3-105�γ̳ɼ��Ϳ��ԡ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score</span><br><span class="line"><span class="keyword">WHERE</span> degree &gt; (<span class="keyword">SELECT</span> degree <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> s_no = <span class="string">'109'</span> <span class="keyword">AND</span> c_no = <span class="string">'3-105'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="YEAR-�������-IN-�ؼ��ֲ�ѯ"><a href="#YEAR-�������-IN-�ؼ��ֲ�ѯ" class="headerlink" title="YEAR ������� IN �ؼ��ֲ�ѯ"></a>YEAR ������� IN �ؼ��ֲ�ѯ</h3><p><strong>��ѯ���к� 101 ��108 ��ѧ��ͬ������� no ��name ��birthday �С�</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- YEAR(..): ȡ�������е����</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, <span class="keyword">name</span>, birthday <span class="keyword">FROM</span> student</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(birthday) <span class="keyword">IN</span> (<span class="keyword">SELECT</span> <span class="keyword">YEAR</span>(birthday) <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span> (<span class="number">101</span>, <span class="number">108</span>));</span><br></pre></td></tr></table></figure>

<h3 id="���Ƕ���Ӳ�ѯ"><a href="#���Ƕ���Ӳ�ѯ" class="headerlink" title="���Ƕ���Ӳ�ѯ"></a>���Ƕ���Ӳ�ѯ</h3><p><strong>��ѯ ‘����’ ��ʦ�οε�ѧ���ɼ�����</strong></p>
<p>�����ҵ���ʦ��ţ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NO</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> <span class="keyword">NAME</span> = <span class="string">'����'</span></span><br></pre></td></tr></table></figure>
<p>ͨ�� sourse ���ҵ��ý�ʦ�γ̺ţ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">NO</span> <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> t_no = ( <span class="keyword">SELECT</span> <span class="keyword">NO</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> <span class="keyword">NAME</span> = <span class="string">'����'</span> );</span><br></pre></td></tr></table></figure>
<p>ͨ��ɸѡ���Ŀγ̺Ų�ѯ�ɼ�����</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> t_no = ( </span><br><span class="line">        <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> <span class="keyword">NAME</span> = <span class="string">'����'</span> </span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="�����ѯ"><a href="#�����ѯ" class="headerlink" title="�����ѯ"></a>�����ѯ</h3><p><strong>��ѯĳѡ�޿γ̶���5��ͬѧ�Ľ�ʦ������</strong></p>
<p>������ teacher ���У����� no �ֶ����жϸý�ʦ��ͬһ�ſγ��Ƿ�������5��ѧԱѡ�ޣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ��ѯ teacher ��</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, <span class="keyword">name</span> <span class="keyword">FROM</span> teacher;</span><br><span class="line">+<span class="comment">-----+--------+</span></span><br><span class="line">| no  | name   |</span><br><span class="line">+<span class="comment">-----+--------+</span></span><br><span class="line">| 804 | ���   |</span><br><span class="line">| 825 | ��Ƽ   |</span><br><span class="line">| 831 | ����   |</span><br><span class="line">| 856 | ����   |</span><br><span class="line">+<span class="comment">-----+--------+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="comment">-- �������ҵ���Ӧ������</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>�鿴�ͽ�ʦ������йصı�����Ϣ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> course;</span><br><span class="line"><span class="comment">-- t_no: ��ʦ���</span></span><br><span class="line">+<span class="comment">-------+-----------------+------+</span></span><br><span class="line">| no    | name            | t_no |</span><br><span class="line">+<span class="comment">-------+-----------------+------+</span></span><br><span class="line">| 3-105 | ���������      | 825  |</span><br><span class="line">| 3-245 | ����ϵͳ        | 804  |</span><br><span class="line">| 6-166 | ���ֵ�·        | 856  |</span><br><span class="line">| 9-888 | �ߵ���ѧ        | 831  |</span><br><span class="line">+<span class="comment">-------+-----------------+------+</span></span><br></pre></td></tr></table></figure>
<p>�����Ѿ��ҵ��ͽ�ʦ����йص��ֶξ��� course ���У����ǻ��޷�֪�����ſγ�������5��ѧ��ѡ�ޣ����Ի���Ҫ���� score ������ѯ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �ڴ�֮ǰ�� score ����һЩ���ݣ��Ա�ḻ��ѯ������</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span> (<span class="string">'101'</span>, <span class="string">'3-105'</span>, <span class="string">'90'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span> (<span class="string">'102'</span>, <span class="string">'3-105'</span>, <span class="string">'91'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> score <span class="keyword">VALUES</span> (<span class="string">'104'</span>, <span class="string">'3-105'</span>, <span class="string">'89'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ score ��</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 101  | 3-105 |     90 |</span><br><span class="line">| 102  | 3-105 |     91 |</span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 103  | 6-166 |     85 |</span><br><span class="line">| 104  | 3-105 |     89 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �� score ���н� c_no ��Ϊ���飬�������� c_no �������� 5 �����ݡ�</span></span><br><span class="line"><span class="keyword">SELECT</span> c_no <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt; <span class="number">5</span>;</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| c_no  |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| 3-105 |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">����ɸѡ�����Ŀγ̺ţ��ҳ���ĳ�γ��У�ӵ������5��ѧԱ�Ľ�ʦ��ţ�</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> t_no <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> c_no <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt; <span class="number">5</span></span><br><span class="line">);</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">| t_no |</span><br><span class="line">+<span class="comment">------+</span></span><br><span class="line">| 825  |</span><br><span class="line">+<span class="comment">------+</span></span><br></pre></td></tr></table></figure>
<p>�� teacher ���У�����ɸѡ�����Ľ�ʦ����ҵ���ʦ������</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="comment">-- ��������</span></span><br><span class="line">    <span class="keyword">SELECT</span> t_no <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> c_no <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt; <span class="number">5</span></span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="�Ӳ�ѯ-3"><a href="#�Ӳ�ѯ-3" class="headerlink" title="�Ӳ�ѯ - 3"></a>�Ӳ�ѯ - 3</h3><p><strong>��ѯ �������ϵ�� �γ̵ĳɼ�����</strong></p>
<p>˼·�ǣ����ҳ� course �������� �����ϵ �γ̵ı�ţ�Ȼ����������Ų�ѯ score ����</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ͨ�� teacher ����ѯ���� `�����ϵ` �Ľ�ʦ���</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, <span class="keyword">name</span>, department <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'�����ϵ'</span></span><br><span class="line">+<span class="comment">-----+--------+--------------+</span></span><br><span class="line">| <span class="keyword">no</span>  | <span class="keyword">name</span>   | department   |</span><br><span class="line">+<span class="comment">-----+--------+--------------+</span></span><br><span class="line">| <span class="number">804</span> | ���   | �����ϵ     |</span><br><span class="line">| <span class="number">825</span> | ��Ƽ   | �����ϵ     |</span><br><span class="line">+<span class="comment">-----+--------+--------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ͨ�� course ����ѯ�ý�ʦ�Ŀγ̱��</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> t_no <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'�����ϵ'</span></span><br><span class="line">);</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| no    |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| 3-245 |</span><br><span class="line">| 3-105 |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����ɸѡ�����Ŀγ̺Ų�ѯ�ɼ���</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> t_no <span class="keyword">IN</span> (</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'�����ϵ'</span></span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 101  | 3-105 |     90 |</span><br><span class="line">| 102  | 3-105 |     91 |</span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 104  | 3-105 |     89 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<h3 id="UNION-��-NOT-IN-��ʹ��"><a href="#UNION-��-NOT-IN-��ʹ��" class="headerlink" title="UNION �� NOT IN ��ʹ��"></a>UNION �� NOT IN ��ʹ��</h3><p><strong>��ѯ �����ϵ �� ���ӹ���ϵ �еĲ�ְͬ�ƵĽ�ʦ��</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- NOT: �����߼���</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'�����ϵ'</span> <span class="keyword">AND</span> profession <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> profession <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'���ӹ���ϵ'</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">-- �ϲ�������</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'���ӹ���ϵ'</span> <span class="keyword">AND</span> profession <span class="keyword">NOT</span> <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> profession <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> department = <span class="string">'�����ϵ'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="ANY-��ʾ����һ��-DESC-����"><a href="#ANY-��ʾ����һ��-DESC-����" class="headerlink" title="ANY ��ʾ����һ�� - DESC ( ���� )"></a>ANY ��ʾ����һ�� - DESC ( ���� )</h3><p><strong>��ѯ�γ� 3-105 �ҳɼ� ���� ���� 3-245 �� score ����</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-105'</span>;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 101  | 3-105 |     90 |</span><br><span class="line">| 102  | 3-105 |     91 |</span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 104  | 3-105 |     89 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-245'</span>;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-245 |     86 |</span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ANY: ����SQL����е�����������</span></span><br><span class="line"><span class="comment">-- Ҳ����˵���� 3-105 �ɼ��У�ֻҪ��һ�����ڴ� 3-245 ɸѡ�����������оͷ���������</span></span><br><span class="line"><span class="comment">-- �����ݽ����ѯ�����</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-105'</span> <span class="keyword">AND</span> degree &gt; <span class="keyword">ANY</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> degree <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-245'</span></span><br><span class="line">) <span class="keyword">ORDER</span> <span class="keyword">BY</span> degree <span class="keyword">DESC</span>;</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 102  | 3-105 |     91 |</span><br><span class="line">| 101  | 3-105 |     90 |</span><br><span class="line">| 104  | 3-105 |     89 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<h3 id="��ʾ���е�-ALL"><a href="#��ʾ���е�-ALL" class="headerlink" title="��ʾ���е� ALL"></a>��ʾ���е� ALL</h3><p><strong>��ѯ�γ� 3-105 �ҳɼ����� 3-245 �� score ����</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ֻ�����һ���������޸ġ�</span></span><br><span class="line"><span class="comment">-- ALL: ����SQL����е�����������</span></span><br><span class="line"><span class="comment">-- Ҳ����˵���� 3-105 ÿһ�гɼ��У���Ҫ���ڴ� 3-245 ɸѡ����ȫ���в������������</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-105'</span> <span class="keyword">AND</span> degree &gt; <span class="keyword">ALL</span>(</span><br><span class="line">    <span class="keyword">SELECT</span> degree <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = <span class="string">'3-245'</span></span><br><span class="line">);</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 101  | 3-105 |     90 |</span><br><span class="line">| 102  | 3-105 |     91 |</span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">| 104  | 3-105 |     89 |</span><br><span class="line">| 105  | 3-105 |     88 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<h3 id="���Ʊ���������Ϊ������ѯ"><a href="#���Ʊ���������Ϊ������ѯ" class="headerlink" title="���Ʊ���������Ϊ������ѯ"></a>���Ʊ���������Ϊ������ѯ</h3><p><strong>��ѯĳ�γ̳ɼ��ȸÿγ�ƽ���ɼ��͵� score ����</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ��ѯƽ����</span></span><br><span class="line"><span class="keyword">SELECT</span> c_no, <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score <span class="keyword">GROUP</span> <span class="keyword">BY</span> c_no;</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line">| c_no  | AVG(degree) |</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line">| 3-105 |     87.6667 |</span><br><span class="line">| 3-245 |     76.3333 |</span><br><span class="line">| 6-166 |     81.6667 |</span><br><span class="line">+<span class="comment">-------+-------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ score ��</span></span><br><span class="line"><span class="keyword">SELECT</span> degree <span class="keyword">FROM</span> score;</span><br><span class="line">+<span class="comment">--------+</span></span><br><span class="line">| degree |</span><br><span class="line">+<span class="comment">--------+</span></span><br><span class="line">|     90 |</span><br><span class="line">|     91 |</span><br><span class="line">|     92 |</span><br><span class="line">|     86 |</span><br><span class="line">|     85 |</span><br><span class="line">|     89 |</span><br><span class="line">|     88 |</span><br><span class="line">|     75 |</span><br><span class="line">|     79 |</span><br><span class="line">|     76 |</span><br><span class="line">|     68 |</span><br><span class="line">|     81 |</span><br><span class="line">+<span class="comment">--------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ���� b �����ڱ� a �в�ѯ����</span></span><br><span class="line"><span class="comment">-- score a (b): ��������Ϊ a (b)��</span></span><br><span class="line"><span class="comment">-- ��˾����� a.c_no = b.c_no ��Ϊ����ִ�в�ѯ�ˡ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score a <span class="keyword">WHERE</span> degree &lt; (</span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="keyword">AVG</span>(degree) <span class="keyword">FROM</span> score b <span class="keyword">WHERE</span> a.c_no = b.c_no)</span><br><span class="line">);</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 105  | 3-245 |     75 |</span><br><span class="line">| 105  | 6-166 |     79 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">| 109  | 3-245 |     68 |</span><br><span class="line">| 109  | 6-166 |     81 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<p>���Ʊ����������ڣ��ܰ�һ�����е�һ���¼��ñ��������¼�������¼�Ļ���һһ���Ƚϡ�</p>
<h3 id="�Ӳ�ѯ-4"><a href="#�Ӳ�ѯ-4" class="headerlink" title="�Ӳ�ѯ - 4"></a>�Ӳ�ѯ - 4</h3><p><strong>��ѯ�����ο� ( �� course �����пγ� ) ��ʦ�� name �� department ��</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, department <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span> (<span class="keyword">SELECT</span> t_no <span class="keyword">FROM</span> course);</span><br><span class="line">+<span class="comment">--------+-----------------+</span></span><br><span class="line">| name   | department      |</span><br><span class="line">+<span class="comment">--------+-----------------+</span></span><br><span class="line">| ���   | �����ϵ        |</span><br><span class="line">| ��Ƽ   | �����ϵ        |</span><br><span class="line">| ����   | ���ӹ���ϵ      |</span><br><span class="line">| ����   | ���ӹ���ϵ      |</span><br><span class="line">+<span class="comment">--------+-----------------+</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>SQL �����In �� Where �ĺ��岻ͬ��<br>1�������������شӱ���ѡȡ��ɾ������������ʱ��ʹ��Where��<br>2��Inֻ��ΪWhere�����Ӿ��µ�һ�������������In֮�⻹��Between��Like��=��&gt;��&gt;=��&lt;��&lt;=���������</p>
</blockquote>
<h3 id="��������ɸѡ"><a href="#��������ɸѡ" class="headerlink" title="��������ɸѡ"></a>��������ɸѡ</h3><p><strong>��ѯ student ���������� 2 �������� class ��</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �鿴ѧ������Ϣ</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student;</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line">| no  | name      | sex | birthday   | class |</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line">| 101 | ����      | ��  | 1977-09-01 | 95033 |</span><br><span class="line">| 102 | ����      | ��  | 1975-10-02 | 95031 |</span><br><span class="line">| 103 | ����      | Ů  | 1976-01-23 | 95033 |</span><br><span class="line">| 104 | ���      | ��  | 1976-02-20 | 95033 |</span><br><span class="line">| 105 | ����      | Ů  | 1975-02-10 | 95031 |</span><br><span class="line">| 106 | ½��      | ��  | 1974-06-03 | 95031 |</span><br><span class="line">| 107 | ������    | ��  | 1976-02-20 | 95033 |</span><br><span class="line">| 108 | ��ȫ��    | ��  | 1975-02-10 | 95031 |</span><br><span class="line">| 109 | ������    | ��  | 1974-06-03 | 95031 |</span><br><span class="line">| 110 | �ŷ�      | ��  | 1974-06-03 | 95038 |</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ֻ��ѯ�Ա�Ϊ�У�Ȼ�� class ���飬������ class �д��� 1��</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">class</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> sex = <span class="string">'��'</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">class</span> <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt; <span class="number">1</span>;</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| class |</span><br><span class="line">+<span class="comment">-------+</span></span><br><span class="line">| 95033 |</span><br><span class="line">| 95031 |</span><br><span class="line">+<span class="comment">-------+</span></span><br></pre></td></tr></table></figure>
<h3 id="NOT-LIKE-g����ѯȡ��"><a href="#NOT-LIKE-g����ѯȡ��" class="headerlink" title="NOT LIKE ģ����ѯȡ��"></a>NOT LIKE ģ����ѯȡ��</h3><p>��ѯ student ���в��� “��” ��ͬѧ��¼��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- NOT: ȡ��</span></span><br><span class="line"><span class="comment">-- LIKE: ģ����ѯ</span></span><br><span class="line">mysql&gt; SELECT * FROM student WHERE name NOT LIKE '��%';</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line">| no  | name      | sex | birthday   | class |</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line">| 101 | ����      | ��  | 1977-09-01 | 95033 |</span><br><span class="line">| 102 | ����      | ��  | 1975-10-02 | 95031 |</span><br><span class="line">| 104 | ���      | ��  | 1976-02-20 | 95033 |</span><br><span class="line">| 106 | ½��      | ��  | 1974-06-03 | 95031 |</span><br><span class="line">| 108 | ��ȫ��    | ��  | 1975-02-10 | 95031 |</span><br><span class="line">| 109 | ������    | ��  | 1974-06-03 | 95031 |</span><br><span class="line">| 110 | �ŷ�      | ��  | 1974-06-03 | 95038 |</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br></pre></td></tr></table></figure>
<h3 id="YEAR-��-NOW-����"><a href="#YEAR-��-NOW-����" class="headerlink" title="YEAR �� NOW ����"></a>YEAR �� NOW ����</h3><p>��ѯ student ����ÿ��ѧ�������������䡣</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ʹ�ú��� YEAR(NOW()) �������ǰ��ݣ���ȥ������ݺ�ó����䡣</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, <span class="keyword">YEAR</span>(<span class="keyword">NOW</span>()) - <span class="keyword">YEAR</span>(birthday) <span class="keyword">as</span> age <span class="keyword">FROM</span> student;</span><br><span class="line">+<span class="comment">-----------+------+</span></span><br><span class="line">| name      | age  |</span><br><span class="line">+<span class="comment">-----------+------+</span></span><br><span class="line">| ����      |   42 |</span><br><span class="line">| ����      |   44 |</span><br><span class="line">| ����      |   43 |</span><br><span class="line">| ���      |   43 |</span><br><span class="line">| ����      |   44 |</span><br><span class="line">| ½��      |   45 |</span><br><span class="line">| ������    |   43 |</span><br><span class="line">| ��ȫ��    |   44 |</span><br><span class="line">| ������    |   45 |</span><br><span class="line">| �ŷ�      |   45 |</span><br><span class="line">+<span class="comment">-----------+------+</span></span><br></pre></td></tr></table></figure>
<h3 id="MAX-��-MIN-����"><a href="#MAX-��-MIN-����" class="headerlink" title="MAX �� MIN ����"></a>MAX �� MIN ����</h3><p><strong>��ѯ student ����������С�� birthday ֵ��</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MAX</span>(birthday), <span class="keyword">MIN</span>(birthday) <span class="keyword">FROM</span> student;</span><br><span class="line">+<span class="comment">---------------+---------------+</span></span><br><span class="line">| MAX(birthday) | MIN(birthday) |</span><br><span class="line">+<span class="comment">---------------+---------------+</span></span><br><span class="line">| 1977-09-01    | 1974-06-03    |</span><br><span class="line">+<span class="comment">---------------+---------------+</span></span><br></pre></td></tr></table></figure>
<h3 id="�������"><a href="#�������" class="headerlink" title="�������"></a>�������</h3><p>�� class �� birthday �Ӵ�С��˳���ѯ student ����</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> student <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">class</span> <span class="keyword">DESC</span>, birthday;</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line">| no  | name      | sex | birthday   | class |</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br><span class="line">| 110 | �ŷ�      | ��  | 1974-06-03 | 95038 |</span><br><span class="line">| 103 | ����      | Ů  | 1976-01-23 | 95033 |</span><br><span class="line">| 104 | ���      | ��  | 1976-02-20 | 95033 |</span><br><span class="line">| 107 | ������    | ��  | 1976-02-20 | 95033 |</span><br><span class="line">| 101 | ����      | ��  | 1977-09-01 | 95033 |</span><br><span class="line">| 106 | ½��      | ��  | 1974-06-03 | 95031 |</span><br><span class="line">| 109 | ������    | ��  | 1974-06-03 | 95031 |</span><br><span class="line">| 105 | ����      | Ů  | 1975-02-10 | 95031 |</span><br><span class="line">| 108 | ��ȫ��    | ��  | 1975-02-10 | 95031 |</span><br><span class="line">| 102 | ����      | ��  | 1975-10-02 | 95031 |</span><br><span class="line">+<span class="comment">-----+-----------+-----+------------+-------+</span></span><br></pre></td></tr></table></figure>
<h3 id="�Ӳ�ѯ-5"><a href="#�Ӳ�ѯ-5" class="headerlink" title="�Ӳ�ѯ - 5"></a>�Ӳ�ѯ - 5</h3><p>��ѯ “��” ��ʦ�������ϵĿγ̡�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> t_no <span class="keyword">in</span> (<span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> teacher <span class="keyword">WHERE</span> sex = <span class="string">'��'</span>);</span><br><span class="line">+<span class="comment">-------+--------------+------+</span></span><br><span class="line">| no    | name         | t_no |</span><br><span class="line">+<span class="comment">-------+--------------+------+</span></span><br><span class="line">| 3-245 | ����ϵͳ     | 804  |</span><br><span class="line">| 6-166 | ���ֵ�·     | 856  |</span><br><span class="line">+<span class="comment">-------+--------------+------+</span></span><br></pre></td></tr></table></figure>

<h3 id="MAX-�������Ӳ�ѯ"><a href="#MAX-�������Ӳ�ѯ" class="headerlink" title="MAX �������Ӳ�ѯ"></a>MAX �������Ӳ�ѯ</h3><p>��ѯ��߷�ͬѧ�� score ����</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �ҳ���߳ɼ����ò�ѯֻ����һ�������</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MAX</span>(degree) <span class="keyword">FROM</span> score;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �������������ɸѡ��������߳ɼ�����</span></span><br><span class="line"><span class="comment">-- �ò�ѯ�����ж����������� degree ֵ��η���������</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> degree = (<span class="keyword">SELECT</span> <span class="keyword">MAX</span>(degree) <span class="keyword">FROM</span> score);</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 103  | 3-105 |     92 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>

<h3 id="�Ӳ�ѯ-6"><a href="#�Ӳ�ѯ-6" class="headerlink" title="�Ӳ�ѯ - 6"></a>�Ӳ�ѯ - 6</h3><p>��ѯ�� “���” ͬ�Ա������ͬѧ name ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ���Ƚ�������Ա���Ϊ����ȡ����</span></span><br><span class="line"><span class="keyword">SELECT</span> sex <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'���'</span>;</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">| sex |</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line">| ��  |</span><br><span class="line">+<span class="comment">-----+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �����Ա��ѯ name �� sex</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, sex <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> sex = (</span><br><span class="line">    <span class="keyword">SELECT</span> sex <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'���'</span></span><br><span class="line">);</span><br><span class="line">+<span class="comment">-----------+-----+</span></span><br><span class="line">| name      | sex |</span><br><span class="line">+<span class="comment">-----------+-----+</span></span><br><span class="line">| ����      | ��  |</span><br><span class="line">| ����      | ��  |</span><br><span class="line">| ���      | ��  |</span><br><span class="line">| ½��      | ��  |</span><br><span class="line">| ������    | ��  |</span><br><span class="line">| ��ȫ��    | ��  |</span><br><span class="line">| ������    | ��  |</span><br><span class="line">| �ŷ�      | ��  |</span><br><span class="line">+<span class="comment">-----------+-----+</span></span><br></pre></td></tr></table></figure>

<h3 id="�Ӳ�ѯ-7"><a href="#�Ӳ�ѯ-7" class="headerlink" title="�Ӳ�ѯ - 7"></a>�Ӳ�ѯ - 7</h3><p>��ѯ�� “���” ͬ�Ա���ͬ���ͬѧ name ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, sex, <span class="keyword">class</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> sex = (</span><br><span class="line">    <span class="keyword">SELECT</span> sex <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'���'</span></span><br><span class="line">) <span class="keyword">AND</span> <span class="keyword">class</span> = (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">class</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'���'</span></span><br><span class="line">);</span><br><span class="line">+<span class="comment">-----------+-----+-------+</span></span><br><span class="line">| name      | sex | class |</span><br><span class="line">+<span class="comment">-----------+-----+-------+</span></span><br><span class="line">| ����      | ��  | 95033 |</span><br><span class="line">| ���      | ��  | 95033 |</span><br><span class="line">| ������    | ��  | 95033 |</span><br><span class="line">+<span class="comment">-----------+-----+-------+</span></span><br></pre></td></tr></table></figure>

<h3 id="�Ӳ�ѯ-8"><a href="#�Ӳ�ѯ-8" class="headerlink" title="�Ӳ�ѯ - 8"></a>�Ӳ�ѯ - 8</h3><p><strong>��ѯ����ѡ�� “���������” �γ̵� “��” ͬѧ�ɼ�����</strong><br>��Ҫ�� “���������” ���Ա�Ϊ “��” �ı�ſ����� course �� student �����ҵ���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> score <span class="keyword">WHERE</span> c_no = (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> course <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'���������'</span></span><br><span class="line">) <span class="keyword">AND</span> s_no <span class="keyword">IN</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> student <span class="keyword">WHERE</span> sex = <span class="string">'��'</span></span><br><span class="line">);</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| s_no | c_no  | degree |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br><span class="line">| 101  | 3-105 |     90 |</span><br><span class="line">| 102  | 3-105 |     91 |</span><br><span class="line">| 104  | 3-105 |     89 |</span><br><span class="line">| 109  | 3-105 |     76 |</span><br><span class="line">+<span class="comment">------+-------+--------+</span></span><br></pre></td></tr></table></figure>
<h3 id="���c���ѯ"><a href="#���c���ѯ" class="headerlink" title="���ȼ���ѯ"></a>���ȼ���ѯ</h3><p>����һ�� grade ������ѧ���ĳɼ��ȼ������������ݣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> grade (</span><br><span class="line">    <span class="keyword">low</span> <span class="built_in">INT</span>(<span class="number">3</span>),</span><br><span class="line">    upp <span class="built_in">INT</span>(<span class="number">3</span>),</span><br><span class="line">    grade <span class="built_in">char</span>(<span class="number">1</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span> (<span class="number">90</span>, <span class="number">100</span>, <span class="string">'A'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span> (<span class="number">80</span>, <span class="number">89</span>, <span class="string">'B'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span> (<span class="number">70</span>, <span class="number">79</span>, <span class="string">'C'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span> (<span class="number">60</span>, <span class="number">69</span>, <span class="string">'D'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> grade <span class="keyword">VALUES</span> (<span class="number">0</span>, <span class="number">59</span>, <span class="string">'E'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> grade;</span><br><span class="line">+<span class="comment">------+------+-------+</span></span><br><span class="line">| low  | upp  | grade |</span><br><span class="line">+<span class="comment">------+------+-------+</span></span><br><span class="line">|   90 |  100 | A     |</span><br><span class="line">|   80 |   89 | B     |</span><br><span class="line">|   70 |   79 | C     |</span><br><span class="line">|   60 |   69 | D     |</span><br><span class="line">|    0 |   59 | E     |</span><br><span class="line">+<span class="comment">------+------+-------+</span></span><br></pre></td></tr></table></figure>
<p><strong>��ѯ����ѧ���� s_no ��c_no �� grade �С�</strong></p>
<p>˼·�ǣ�ʹ������ ( BETWEEN ) ��ѯ���ж�ѧ���ĳɼ� ( degree ) �� grade ���� low �� upp ֮�䡣</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s_no, c_no, grade <span class="keyword">FROM</span> score, grade </span><br><span class="line"><span class="keyword">WHERE</span> degree <span class="keyword">BETWEEN</span> <span class="keyword">low</span> <span class="keyword">AND</span> upp;</span><br><span class="line">+<span class="comment">------+-------+-------+</span></span><br><span class="line">| s_no | c_no  | grade |</span><br><span class="line">+<span class="comment">------+-------+-------+</span></span><br><span class="line">| 101  | 3-105 | A     |</span><br><span class="line">| 102  | 3-105 | A     |</span><br><span class="line">| 103  | 3-105 | A     |</span><br><span class="line">| 103  | 3-245 | B     |</span><br><span class="line">| 103  | 6-166 | B     |</span><br><span class="line">| 104  | 3-105 | B     |</span><br><span class="line">| 105  | 3-105 | B     |</span><br><span class="line">| 105  | 3-245 | C     |</span><br><span class="line">| 105  | 6-166 | C     |</span><br><span class="line">| 109  | 3-105 | C     |</span><br><span class="line">| 109  | 3-245 | D     |</span><br><span class="line">| 109  | 6-166 | B     |</span><br><span class="line">+<span class="comment">------+-------+-------+</span></span><br></pre></td></tr></table></figure>
<h3 id="���Ӳ�ѯ"><a href="#���Ӳ�ѯ" class="headerlink" title="���Ӳ�ѯ"></a>���Ӳ�ѯ</h3><p> <strong>SQL�����Ӳ�ѯ���ڡ������ӣ������ӷ������ӡ������Ӻ���ȫ�����ӡ�</strong></p>
<p>׼�����ڲ������Ӳ�ѯ�����ݣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> testJoin;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> person (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    cardId <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> card (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> card <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'����'</span>), (<span class="number">2</span>, <span class="string">'���п�'</span>), (<span class="number">3</span>, <span class="string">'ũ�п�'</span>), (<span class="number">4</span>, <span class="string">'���̿�'</span>), (<span class="number">5</span>, <span class="string">'������'</span>);</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> card;</span><br><span class="line">+<span class="comment">------+-----------+</span></span><br><span class="line">| id   | name      |</span><br><span class="line">+<span class="comment">------+-----------+</span></span><br><span class="line">|    1 | ����      |</span><br><span class="line">|    2 | ���п�    |</span><br><span class="line">|    3 | ũ�п�    |</span><br><span class="line">|    4 | ���̿�    |</span><br><span class="line">|    5 | ������    |</span><br><span class="line">+<span class="comment">------+-----------+</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> person <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'����'</span>, <span class="number">1</span>), (<span class="number">2</span>, <span class="string">'����'</span>, <span class="number">3</span>), (<span class="number">3</span>, <span class="string">'����'</span>, <span class="number">6</span>);</span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> person;</span><br><span class="line">+<span class="comment">------+--------+--------+</span></span><br><span class="line">| id   | name   | cardId |</span><br><span class="line">+<span class="comment">------+--------+--------+</span></span><br><span class="line">|    1 | ����   |      1 |</span><br><span class="line">|    2 | ����   |      3 |</span><br><span class="line">|    3 | ����   |      6 |</span><br><span class="line">+<span class="comment">------+--------+--------+</span></span><br></pre></td></tr></table></figure>
<p>�������ű����֣�person ����û��Ϊ cardId �ֶ�����һ���� card ���ж�Ӧ�� id �������������˵Ļ���person �� cardId �ֶ�ֵΪ 6 ���оͲ岻��ȥ����Ϊ�� cardId ֵ�� card ���в�û�С�</p>
<h4 id="������"><a href="#������" class="headerlink" title="������"></a>������</h4><p>Ҫ��ѯ�����ű���<strong>�й�ϵ</strong>�����ݣ�����ʹ�� <code>INNER JOIN</code> ( ������ ) ������������һ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- INNER JOIN: ��ʾΪ�����ӣ������ű�ƴ����һ��</span></span><br><span class="line"><span class="comment">-- on: ��ʾҪִ��ĳ��������</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> person <span class="keyword">INNER</span> <span class="keyword">JOIN</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">| id   | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">|    1 | ����   |      1 |    1 | ����      |</span><br><span class="line">|    2 | ����   |      3 |    3 | ũ�п�    |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �� INNER �ؼ���ʡ�Ե������Ҳ��һ���ġ�</span></span><br><span class="line"><span class="comment">-- SELECT * FROM person JOIN card on person.cardId = card.id;</span></span><br></pre></td></tr></table></figure>
<p>ע�⣺card �����ű������ӵ����ұߡ�</p>
<h4 id="��������"><a href="#��������" class="headerlink" title="��������"></a>��������</h4><p>������ʾ��ߵı� ( person ) ���ұߵı����������������ʾ���������� NULL ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- LEFT JOIN Ҳ���� LEFT OUTER JOIN���������ַ�ʽ�Ĳ�ѯ�����һ���ġ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> person <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">| id   | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">|    1 | ����   |      1 |    1 | ����      |</span><br><span class="line">|    2 | ����   |      3 |    3 | ũ�п�    |</span><br><span class="line">|    3 | ����   |      6 | NULL | NULL      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br></pre></td></tr></table></figure>
<h4 id="��������-1"><a href="#��������-1" class="headerlink" title="��������"></a>��������</h4><p>������ʾ�ұߵı� ( card ) ����ߵı����������������ʾ���������� NULL ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> person <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">| id   | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">|    1 | ����   |      1 |    1 | ����      |</span><br><span class="line">|    2 | ����   |      3 |    3 | ũ�п�    |</span><br><span class="line">| NULL | NULL   |   NULL |    2 | ���п�    |</span><br><span class="line">| NULL | NULL   |   NULL |    4 | ���̿�    |</span><br><span class="line">| NULL | NULL   |   NULL |    5 | ������    |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br></pre></td></tr></table></figure>
<h4 id="o������"><a href="#o������" class="headerlink" title="ȫ������"></a>ȫ������</h4><p>������ʾ���ű���ȫ�����ݡ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MySQL ��֧�������﷨��ȫ������</span></span><br><span class="line"><span class="comment">-- SELECT * FROM person FULL JOIN card on person.cardId = card.id;</span></span><br><span class="line"><span class="comment">-- ���ִ���</span></span><br><span class="line"><span class="comment">-- ERROR 1054 (42S22): Unknown column 'person.cardId' in 'on clause'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQLȫ�����﷨��ʹ�� UNION �����ű��ϲ���һ��</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> person <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> card <span class="keyword">on</span> person.cardId = card.id</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> person <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> card <span class="keyword">on</span> person.cardId = card.id;</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">| id   | name   | cardId | id   | name      |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br><span class="line">|    1 | ����   |      1 |    1 | ����      |</span><br><span class="line">|    2 | ����   |      3 |    3 | ũ�п�    |</span><br><span class="line">|    3 | ����   |      6 | NULL | NULL      |</span><br><span class="line">| NULL | NULL   |   NULL |    2 | ���п�    |</span><br><span class="line">| NULL | NULL   |   NULL |    4 | ���̿�    |</span><br><span class="line">| NULL | NULL   |   NULL |    5 | ������    |</span><br><span class="line">+<span class="comment">------+--------+--------+------+-----------+</span></span><br></pre></td></tr></table></figure>
<h2 id="����"><a href="#����" class="headerlink" title="����"></a>����</h2><p>�� MySQL �У�������ʵ��һ����С�Ĳ��ɷָ�Ĺ�����Ԫ�������ܹ���֤һ��<strong>ҵ���������</strong>��</p>
<p>�������ǵ�����ת�ˣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- a -&gt; -100</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- b -&gt; +100</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br></pre></td></tr></table></figure>
<p>��ʵ����Ŀ�У�����ֻ��һ�� SQL ���ִ�гɹ���������һ��ִ��ʧ���ˣ��ͻ��������ǰ��һ�¡�</p>
<p>��ˣ���ִ�ж����й��� SQL ���ʱ��<strong>����</strong>���ܻ�Ҫ����Щ SQL ���Ҫôͬʱִ�гɹ���Ҫô�Ͷ�ִ��ʧ�ܡ�</p>
<h3 id="��ο�������-COMMIT-ROLLBACK"><a href="#��ο�������-COMMIT-ROLLBACK" class="headerlink" title="��ο������� - COMMIT / ROLLBACK"></a>��ο������� - COMMIT / ROLLBACK</h3><p>�� MySQL �У������<strong>�Զ��ύ</strong>״̬Ĭ���ǿ����ġ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ��ѯ������Զ��ύ״̬</span></span><br><span class="line"><span class="keyword">SELECT</span> @@AUTOCOMMIT;</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| @@AUTOCOMMIT |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">|            1 |</span><br><span class="line">+<span class="comment">--------------+</span></span><br></pre></td></tr></table></figure>
<p><strong>�Զ��ύ</strong>�����ã�������ִ��һ�� SQL ����ʱ���������Ч���ͻ��������ֳ������Ҳ���<strong>�ع�</strong>��</p>
<p>ʲô�ǻع����ٸ����ӣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> bank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">USE</span> bank;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span> (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">    money <span class="built_in">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'a'</span>, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>
<p>���Կ�������ִ�в�����������������Ч��ԭ���� MySQL �е������Զ������ύ�������ݿ��С���ô��ν�ع�����˼���ǣ�����ִ�й������� SQL ��䣬ʹ��ع���<strong>���һ���ύ</strong>����ʱ��״̬��</p>
<p>�� MySQL ��ʹ�� ROLLBACK ִ�лع���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �ع������һ���ύ</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>
<p>��������ִ�й��� SQL ��䶼�Ѿ����ύ���ˣ��������ݲ�û�з����ع�������������ݿ��Է����ع���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- �ر��Զ��ύ</span></span><br><span class="line"><span class="keyword">SET</span> AUTOCOMMIT = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯ�Զ��ύ״̬</span></span><br><span class="line"><span class="keyword">SELECT</span> @@AUTOCOMMIT;</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">| @@AUTOCOMMIT |</span><br><span class="line">+<span class="comment">--------------+</span></span><br><span class="line">|            0 |</span><br><span class="line">+<span class="comment">--------------+</span></span><br></pre></td></tr></table></figure>
<p>���Զ��ύ�رպ󣬲������ݻع���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'b'</span>, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ر� AUTOCOMMIT �����ݵı仯����һ���������ʱ���ݱ���չʾ��</span></span><br><span class="line"><span class="comment">-- �����仯�����ݲ�û���������뵽���ݱ��С�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">|  2 | b    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ���ݱ��е���ʵ������ʵ���ǣ�</span></span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �������ݻ�û�������ύ������ʹ�ûع�</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ٴβ�ѯ</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>
<p>����ν���������������ύ�����ݿ��У�ʹ�� COMMIT :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">'b'</span>, <span class="number">1000</span>);</span><br><span class="line"><span class="comment">-- �ֶ��ύ���ݣ��־��ԣ���</span></span><br><span class="line"><span class="comment">-- �����������ύ�����ݿ��У�ִ�к����ٻع��ύ�������ݡ�</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ύ����Իع�</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ٴβ�ѯ���ع���Ч�ˣ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">|  2 | b    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>�ܽ�</strong></p>
<p><strong>1.�Զ��ύ</strong></p>
<p>��1��. �鿴�Զ��ύ״̬��<code>SELECT @@AUTOCOMMIT ��</code></p>
<p>��2��. �����Զ��ύ״̬��<code>SET AUTOCOMMIT = 0</code> ��</p>
<p><strong>2.�ֶ��ύ</strong></p>
<p> <code>@@AUTOCOMMIT = 0</code> ʱ��ʹ�� <code>COMMIT</code> �����ύ����</p>
<p><strong>3.����ع�</strong></p>
<p> <code>@@AUTOCOMMIT = 0</code> ʱ��ʹ�� <code>ROLLBACK</code> ����ع�����</p>
</blockquote>
<p><strong>�����ʵ��Ӧ��</strong>���������ٻص�����ת����Ŀ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ת��</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |   900 |</span><br><span class="line">|  2 | b    |  1100 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>
<p>��ʱ������ת��ʱ���������⣬�Ϳ���ʹ�� ROLLBACK �ع������һ���ύ��״̬��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����ת�˷��������⣬��Ҫ�ع���</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">|  2 | b    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>
<p>��ʱ�����ֻص��˷�������֮ǰ��״̬��Ҳ����˵������������ṩ��һ�����Է��ڵĻ��ᡣ��������û�з������⣬��ʱ�����ֶ������������ύ�����ݱ��У�COMMIT ��</p>
<h3 id="�ֶ���������-BEGIN-START-TRANSACTION"><a href="#�ֶ���������-BEGIN-START-TRANSACTION" class="headerlink" title="�ֶ��������� - BEGIN / START TRANSACTION"></a>�ֶ��������� - BEGIN / START TRANSACTION</h3><p>�����Ĭ���ύ������ ( <code>@@AUTOCOMMIT = 1</code> ) �󣬴�ʱ�Ͳ���ʹ������ع��ˡ��������ǻ������ֶ�����һ���������¼���ʹ����Է����ع���</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ʹ�� BEGIN ���� START TRANSACTION �ֶ�����һ������</span></span><br><span class="line"><span class="comment">-- START TRANSACTION;</span></span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- �����ֶ�����������û�п����Զ��ύ��</span></span><br><span class="line"><span class="comment">-- ��ʱ�����仯��������Ȼ�Ǳ�������һ����ʱ���С�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |   900 |</span><br><span class="line">|  2 | b    |  1100 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ���Իع�</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |  1000 |</span><br><span class="line">|  2 | b    |  1000 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br></pre></td></tr></table></figure>
<p>��Ȼʹ�� COMMIT �ύ���ݣ��ύ���޷��ٷ�����������Ļع�(Ҳ���ǵ�ǰ����������ύʱ�ͽ�����)��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money - <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'a'</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">set</span> money = money + <span class="number">100</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'b'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">| id | name | money |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line">|  1 | a    |   900 |</span><br><span class="line">|  2 | b    |  1100 |</span><br><span class="line">+<span class="comment">----+------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �ύ����</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ���Իع�����Ч����Ϊ���������Ѿ����ύ��</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br></pre></td></tr></table></figure>
<h3 id="�����-ACID-������ʹ��"><a href="#�����-ACID-������ʹ��" class="headerlink" title="����� ACID ������ʹ��"></a>����� ACID ������ʹ��</h3><p><strong>������Ĵ�����</strong>��</p>
<ul>
<li><strong>A ԭ����</strong>����������С�ĵ�λ���������ٷָ </li>
<li><strong>C һ����</strong>��Ҫ��ͬһ�����е� SQL ��䣬���뱣֤ͬʱ�ɹ�����ʧ�ܣ�</li>
<li><strong>I ������</strong>������1�� ����2 ֮���Ǿ��и����Եģ� </li>
<li><strong>D �־���</strong>������һ������ ( COMMIT ) ���Ͳ������ٷ����� ( ROLLBACK ) ��</li>
</ul>
<p><strong>��������</strong></p>
<ol>
<li>�޸�Ĭ���ύ��<code>SET AUTOCOMMIT = 0</code> </li>
<li>begin;</li>
<li>start transaction;</li>
</ol>
<p> <strong>�����ֶ��ύ</strong>��commit<br><strong>�����ֶ��ع�</strong>��rollback</p>
<h3 id="����ĸ�����"><a href="#����ĸ�����" class="headerlink" title="����ĸ�����"></a>����ĸ�����</h3><p><strong>����ĸ����Կɷ�Ϊ���� ( ���ܴӵ͵��� ) ��</strong></p>
<ol>
<li><p><strong>READ UNCOMMITTED ( ��ȡδ�ύ )</strong><br>����ж��������ô�������񶼿��Կ������������<strong>δ�ύ����</strong>��</p>
</li>
<li><p><strong>READ COMMITTED ( ��ȡ���ύ )</strong><br>ֻ�ܶ�ȡ����������<strong>�Ѿ��ύ������</strong>��</p>
</li>
<li><p><strong>REPEATABLE READ ( �ɱ��ظ��� )</strong><br>����ж�����Ӷ�������������ô����֮�䲻�ܹ������ݼ�¼������ֻ�ܹ������ύ�ļ�¼��</p>
</li>
<li><p><strong>SERIALIZABLE ( ���л� )</strong><br>���е����񶼻ᰴ��<strong>�̶�˳��ִ��</strong>��ִ����һ��������ټ���ִ����һ�������<strong>д�����</strong>��</p>
</li>
</ol>
<p>�鿴��ǰ���ݿ��Ĭ�ϸ��뼶��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MySQL 8.x, GLOBAL ��ʾϵͳ���𣬲��ӱ�ʾ�Ự����</span></span><br><span class="line"><span class="keyword">SELECT</span> @@GLOBAL.TRANSACTION_ISOLATION;</span><br><span class="line"><span class="keyword">SELECT</span> @@TRANSACTION_ISOLATION;</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| @@GLOBAL.TRANSACTION_ISOLATION |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| REPEATABLE-READ                | <span class="comment">-- MySQL��Ĭ�ϸ��뼶�𣬿����ظ�����</span></span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- MySQL 5.x</span></span><br><span class="line"><span class="keyword">SELECT</span> @@GLOBAL.TX_ISOLATION;</span><br><span class="line"><span class="keyword">SELECT</span> @@TX_ISOLATION;</span><br></pre></td></tr></table></figure>
<p>�޸ĸ��뼶��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ����ϵͳ���뼶��LEVEL �����ʾҪ���õĸ��뼶�� (READ UNCOMMITTED)��</span></span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> <span class="keyword">TRANSACTION</span> <span class="keyword">ISOLATION</span> <span class="keyword">LEVEL</span> <span class="keyword">READ</span> UNCOMMITTED;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ѯϵͳ���뼶�𣬷����Ѿ����޸ġ�</span></span><br><span class="line"><span class="keyword">SELECT</span> @@GLOBAL.TRANSACTION_ISOLATION;</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| @@GLOBAL.TRANSACTION_ISOLATION |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| READ-UNCOMMITTED               |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br></pre></td></tr></table></figure>
<p><strong>���</strong><br>���� <strong>READ UNCOMMITTED ( ��ȡδ�ύ )</strong> �ĸ����ԣ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">3</span>, <span class="string">'С��'</span>, <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">4</span>, <span class="string">'�Ա���'</span>, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |  1000 |</span><br><span class="line">|  4 | �Ա���    |  1000 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����һ�������������</span></span><br><span class="line"><span class="comment">-- ����С�����Ա�������һ˫800��Ǯ��Ь�ӣ�</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">SET</span> money = money - <span class="number">800</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'С��'</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">SET</span> money = money + <span class="number">800</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'�Ա���'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ȼ���Ա�������һ����ѯ���������Ǯ�ѵ��ˡ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |   200 |</span><br><span class="line">|  4 | �Ա���    |  1800 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br></pre></td></tr></table></figure>
<p>����С����ת�������¿����������Ͻ��в����ģ����ò����Ľ���ǿ��Ա�����������һ�����Ա��꣩�����ģ�����Ա���Ĳ�ѯ�������ȷ�ģ��Ա���ȷ�ϵ��ˡ���������ʱ�����С��������������������ִ���� ROLLBACK ����ᷢ��ʲô��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- С������������</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ʱ���۶Է���˭�������ȥ��ѯ����ͻᷢ�֣�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |  1000 |</span><br><span class="line">|  4 | �Ա���    |  1000 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br></pre></td></tr></table></figure>
<p>�������ν��<strong>���</strong>��һ�������ȡ������һ������δ�ύ�����ݡ�����ʵ�ʿ������ǲ��������ֵġ�</p>
<p><strong>��ȡ���ύ</strong><br>�Ѹ��뼶������Ϊ <strong>READ COMMITTED</strong> ��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> <span class="keyword">TRANSACTION</span> <span class="keyword">ISOLATION</span> <span class="keyword">LEVEL</span> <span class="keyword">READ</span> COMMITTED;</span><br><span class="line"><span class="keyword">SELECT</span> @@GLOBAL.TRANSACTION_ISOLATION;</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| @@GLOBAL.TRANSACTION_ISOLATION |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| READ-COMMITTED                 |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br></pre></td></tr></table></figure>
<p>�����������µ��������ӽ���ʱ�����Ǿ�ֻ�ܲ�ѯ���Ѿ��ύ�������������ˡ����Ƕ��ڵ�ǰ������˵�����ǿ����Ļ���δ�ύ�����ݣ����磺</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ���ڲ����������񣨵�ǰ����</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">SET</span> money = money - <span class="number">800</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'С��'</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">user</span> <span class="keyword">SET</span> money = money + <span class="number">800</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'�Ա���'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��Ȼ���뼶������Ϊ�� READ COMMITTED�����ڵ�ǰ�����У�</span></span><br><span class="line"><span class="comment">-- ����������Ȼ�����ݱ�����ʱ�ı����ݣ������������ύ�������ݡ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |   200 |</span><br><span class="line">|  4 | �Ա���    |  1800 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- �����ʱ��Զ�̿�����һ�����������ӵ����ݿ⡣</span></span><br><span class="line">$ mysql -u root -p12345612</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ʱԶ�����Ӳ�ѯ��������ֻ�����Ѿ��ύ����</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |  1000 |</span><br><span class="line">|  4 | �Ա���    |  1000 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br></pre></td></tr></table></figure>
<p>���������������⣬�Ǿ��Ǽ���һ�������ڲ�������ʱ��������������������������ݡ����磺</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- С���ڲ�ѯ���ݵ�ʱ���֣�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |   200 |</span><br><span class="line">|  4 | �Ա���    |  1800 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��С������� money ƽ��ֵ֮ǰ��С������һ��������</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">5</span>, <span class="string">'c'</span>, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ʱ������ʵ�����ǣ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |  1000 |</span><br><span class="line">|  4 | �Ա���    |  1000 |</span><br><span class="line">|  5 | c         |   100 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��ʱС������ƽ��ֵ��ʱ�򣬾ͻ���ּ��㲻����ϵ������</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(money) <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">------------+</span></span><br><span class="line">| AVG(money) |</span><br><span class="line">+<span class="comment">------------+</span></span><br><span class="line">|  820.0000  |</span><br><span class="line">+<span class="comment">------------+</span></span><br></pre></td></tr></table></figure>
<p>��Ȼ <strong>READ COMMITTED</strong> ������ֻ�ܶ�ȡ�����������Ѿ��ύ�����ݣ������ǻ�������⣬����<strong>�ڶ�ȡͬһ����������ʱ�����ܻᷢ��ǰ��һ�µ�������ⱻ��Ϊ�����ظ������� ( READ COMMITTED )</strong> ��</p>
<p><strong>�ö�</strong><br>�����뼶������Ϊ <strong>REPEATABLE READ ( �ɱ��ظ���ȡ )</strong> :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> <span class="keyword">TRANSACTION</span> <span class="keyword">ISOLATION</span> <span class="keyword">LEVEL</span> REPEATABLE <span class="keyword">READ</span>;</span><br><span class="line"><span class="keyword">SELECT</span> @@GLOBAL.TRANSACTION_ISOLATION;</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| @@GLOBAL.TRANSACTION_ISOLATION |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| REPEATABLE-READ                |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br></pre></td></tr></table></figure>
<p>���� <strong>REPEATABLE READ</strong> ��������������ͬ�������Ϸֱ�ִ�� START TRANSACTION :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- С�� - �ɶ�</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">'d'</span>, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- С�� - ����</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- С�� - �ɶ�</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure>
<p>��ǰ��������û�ύ֮ǰ����ѯ�������ύ����Ա���ѯ�������ǣ����ύ֮ǰ�������񱻿����ˣ���ô�������������ϣ��Ͳ����ѯ����ǰ�в�����������ӡ��൱�ڿ��ٳ�һ���������̡߳�</p>
<p>����С���Ƿ�ִ�й� COMMIT ����С����ߣ��������ѯ��С�ŵ������¼������ֻ���ѯ���Լ���������ļ�¼��</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |  1000 |</span><br><span class="line">|  4 | �Ա���    |  1000 |</span><br><span class="line">|  5 | c         |   100 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br></pre></td></tr></table></figure>
<p>����<strong>��ΪС���ڴ�֮ǰ������һ���µ����� ( START TRANSACTION ) ����ô��������������������ϣ�������������û����ϵ��</strong>��Ҳ����˵����ʱ��������������ڲ������ݣ����ǲ�֪���ġ�</p>
<p>Ȼ����ʵ�ǣ�����ʵ�����ݱ��У�С���Ѿ�������һ�����ݡ�����С����ʱ����֪����Ҳ������ͬһ�����ݣ��ᷢ��ʲô�أ�</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">6</span>, <span class="string">'d'</span>, <span class="number">1000</span>);</span><br><span class="line"><span class="comment">-- ERROR 1062 (23000): Duplicate entry '6' for key 'PRIMARY'</span></span><br></pre></td></tr></table></figure>
<p>�����ˣ���������֪�Ѵ�������Ϊ 6 ���ֶΡ���������Ҳ����Ϊ<strong>�ö���һ�������ύ�����ݣ����ܱ����������ȡ��</strong>��</p>
<p><strong>���л�</strong><br>����˼�壬�������������<strong>д�����</strong>ȫ���Ǵ��л��ġ�ʲô��˼���Ѹ��뼶���޸ĳ� <strong>SERIALIZABLE</strong> :</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> <span class="keyword">TRANSACTION</span> <span class="keyword">ISOLATION</span> <span class="keyword">LEVEL</span> <span class="keyword">SERIALIZABLE</span>;</span><br><span class="line"><span class="keyword">SELECT</span> @@GLOBAL.TRANSACTION_ISOLATION;</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| @@GLOBAL.TRANSACTION_ISOLATION |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br><span class="line">| SERIALIZABLE                   |</span><br><span class="line">+<span class="comment">--------------------------------+</span></span><br></pre></td></tr></table></figure>
<p>������С�ź�С����������</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- С�� - �ɶ�</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- С�� - ����</span></span><br><span class="line"><span class="keyword">START</span> <span class="keyword">TRANSACTION</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ��������֮ǰ�Ȳ�ѯ����׼���������ݡ�</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">| id | name      | money |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line">|  1 | a         |   900 |</span><br><span class="line">|  2 | b         |  1100 |</span><br><span class="line">|  3 | С��      |  1000 |</span><br><span class="line">|  4 | �Ա���    |  1000 |</span><br><span class="line">|  5 | c         |   100 |</span><br><span class="line">|  6 | d         |  1000 |</span><br><span class="line">+<span class="comment">----+-----------+-------+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ����û�� 7 ����С�������ǲ���һ�����ݣ�</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> <span class="keyword">VALUES</span> (<span class="number">7</span>, <span class="string">'��С��'</span>, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<p>��ʱ�ᷢ��ʲô�أ��������ڵĸ��뼶���� <strong>SERIALIZABLE ( ���л� )</strong> �����л�����˼���ǣ���������е����񶼷���һ�����еĶ����У���ô���е����񶼻ᰴ��<strong>�̶�˳��ִ��</strong>��ִ����һ��������ټ���ִ����һ�������<strong>д����� ( ����ζ�Ŷ�����ͬʱֻ��ִ��һ�������д����� )</strong> ��</p>
<p>����������ͣ�С���ڲ�������ʱ������ֵȴ�״̬��ֱ��С��ִ�� COMMIT ���������������񣬻��߳��ֵȴ���ʱ��</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/29/Halo%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/yamei.png">
      <meta itemprop="name" content="Jinji">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jinji's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/29/Halo%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%BA%8C%EF%BC%89/" class="post-title-link" itemprop="url">Halo项目学习（二）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-29 21:38:14 / 修改时间：21:38:22" itemprop="dateCreated datePublished" datetime="2020-03-29T21:38:14+08:00">2020-03-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这是一个基于SpringBoot的项目，我们来看看项目的大致结构。</p>
<h2 id="1-项目结构"><a href="#1-项目结构" class="headerlink" title="1.项目结构"></a>1.项目结构</h2><p>首先，build.gradle是项目管理文件，里面包含许多依赖。要看一个开源项目用到哪些技术点，可以主要看这一部分包含的内容。<img src="https://img-blog.csdnimg.cn/20200329171441881.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>然后我们看项目入口，在src/main/java/run.halo.app目录下的Application中。<br><img src="https://img-blog.csdnimg.cn/20200329172206254.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>接下来我们看项目结构，主要看src源码这一部分，其中test是单元测试，我们暂且不管，先从resource看起。<br><img src="https://img-blog.csdnimg.cn/20200329171710617.PNG#pic_center" alt="在这里插入图片描述"><br>点开resource，以下的.yaml文件都是配置文件。<img src="https://img-blog.csdnimg.cn/20200329172452310.PNG#pic_center" alt="在这里插入图片描述"><br>application.yaml是主配置文件，其他几个配置文件在不同场景下进行使用。我们以application.yaml为例，里面包含了端口、数据源和日志等相关配置信息。<br><img src="https://img-blog.csdnimg.cn/20200329172742340.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>banner.txt是启动时的banner代码，启动时就有一个比较炫酷的效果。<br><img src="https://img-blog.csdnimg.cn/20200329173224661.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200329173310154.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>前端模板主要在resource/templates里。<img src="https://img-blog.csdnimg.cn/20200329183549805.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述">可以看到，这个项目不是前后端分离的。</p>
<h2 id="2-项目代码"><a href="#2-项目代码" class="headerlink" title="2.项目代码"></a>2.项目代码</h2><p>1.我们从controller看起，因为controller控制器是前端页面和后端交互的一个入口。<br><img src="https://img-blog.csdnimg.cn/20200329184623740.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>比如，我们登录时就是”/api/admin”+”login”这个地址。</p>
<p>总之，前端页面发送请求后，controller就接受请求，所以要最先看controller这一部分。但controller层不做具体的业务代码，仅仅是调用，调用的对象定义在service里面。</p>
<p>2.service层是服务层，里面写了各种各样的业务代码，我们第二步看service。我们点开service中的MenuServiceImpl。<br><img src="https://img-blog.csdnimg.cn/20200329185924986.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>其中调用了MenuRepository，我们点进去看。<br><img src="https://img-blog.csdnimg.cn/20200329191520419.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们发现MenuRepository定义在repository下。</p>
<p>3.我们继续往repository看，这是更内部一层的东西，是Hibernates数据库交互相关的，所以这一部分的内容与数据库与交互有关。</p>
<p>4.数据库操作里面，数据库具体关联的对象在model里面。我们点开一个Menu文件，里面含有各中数据库字段。<img src="https://img-blog.csdnimg.cn/20200329192441738.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>总之，Model里面定义的是对象，Entity是数据库相关，dto是封装了一层对象。</p>
<p>我们看开源项目，最好从这四部分下手，这是主线。<br><img src="https://img-blog.csdnimg.cn/20200329192901566.PNG#pic_center" alt="在这里插入图片描述"><br>其他的还有：utils工具类，security安全类（主要负责登录时的验证），listener负责监听事件，handle是一些额外的处理器，filter过滤器，exception定义了许多异常类，config是各种配置，cache与缓存相关，等等。这一部分主要是辅助和工具，是公共组件，初学时可以先不考虑。</p>
<h2 id="3-代码调试"><a href="#3-代码调试" class="headerlink" title="3.代码调试"></a>3.代码调试</h2><p>我们点击这个小虫图标，启动调试。<br><img src="https://img-blog.csdnimg.cn/20200329194151126.PNG#pic_center" alt="在这里插入图片描述"><br>如果我们想看后台登录代码，打开<a href="http://127.0.0.1:8090/admin" target="_blank" rel="noopener">http://127.0.0.1:8090/admin</a>，在浏览器窗口中按f12打开调试界面，切到Network。我们输入账号和密码后点击登录，可以看到它发来一个请求。<br><img src="https://img-blog.csdnimg.cn/2020032919542095.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>在其中我们可以看到login具体有哪些操作，比如获取用户名和密码发往后端。</p>
<p>然后我们去项目根目录下搜login，找到这一部分代码，打入断点。<br><img src="https://img-blog.csdnimg.cn/20200329200132302.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们退出登录，重新回到登录界面，可以进入断点。这时我们可以看见各种参数。<br><img src="https://img-blog.csdnimg.cn/20200329200412102.PNG#pic_center" alt="在这里插入图片描述"><br>它就把用户名和密码传入函数中，进行校验。<br><img src="https://img-blog.csdnimg.cn/20200329200711924.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>点进函数，打上断点，按F8进行单步调试。<br><img src="https://img-blog.csdnimg.cn/2020032920103653.PNG#pic_center" alt="在这里插入图片描述"><br>同样地，我们可以看点击文章时发送的请求。<br><img src="https://img-blog.csdnimg.cn/20200329201352914.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>然后我们再去代码中搜索posts，对比后台，找到这部分代码对应位置。<br><img src="https://img-blog.csdnimg.cn/20200329202204757.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>打上断点，同样可以查看这部分的参数信息。<br><img src="https://img-blog.csdnimg.cn/20200329202722926.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>按照这种调试方法，就可以清晰地知道每个页面的功能了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/29/Halo%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/yamei.png">
      <meta itemprop="name" content="Jinji">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jinji's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/29/Halo%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0%EF%BC%88%E4%B8%80%EF%BC%89/" class="post-title-link" itemprop="url">Halo项目学习（一）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-29 21:28:17 / 修改时间：21:28:25" itemprop="dateCreated datePublished" datetime="2020-03-29T21:28:17+08:00">2020-03-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>此文以Halo项目为例，介绍如何学习开源代码，基于b站up主CodeSheep的 <a href="https://www.bilibili.com/video/av53750729/?spm_id_from=333.788.videocard.0" target="_blank" rel="noopener">视频</a>。</p>
<h2 id="Halo简介"><a href="#Halo简介" class="headerlink" title="Halo简介"></a>Halo简介</h2><p>Halo [ˈheɪloʊ]，意为光环。它是一款使用 java开发的现代化个人独立博客系统。</p>
<h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1.准备工作"></a>1.准备工作</h2><p>Halo是基于Gradle管理依赖的，所以我们先安装Gradle。</p>
<p>1.进入<a href="https://gradle.org/releases/" target="_blank" rel="noopener">gradle官网</a>下载最新的gradle安装包。</p>
<p>2.解压压缩包，我的gradle的安装目录为：E:\gradle-6.0.1。然后在 E:\gradle-6.0.1 目录下新建一个文件夹，名字为：<strong>.gradle</strong>。注意：前面有个小点，这个文件夹是gradle放置jar包的本地仓库，就像maven也有个文件夹充当本地仓库一样。</p>
<p>3.在 .gradle文件夹里新建一个<strong>init.gradle</strong>文件，这一步是为了配置下载依赖的国内镜像,内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">allprojects&#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        def ALIYUN_REPOSITORY_URL &#x3D; &#39;http:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public&#39;</span><br><span class="line">        def ALIYUN_JCENTER_URL &#x3D; &#39;http:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;repositories&#x2F;jcenter&#39;</span><br><span class="line">        all &#123; ArtifactRepository repo -&gt;</span><br><span class="line">            if(repo instanceof MavenArtifactRepository)&#123;</span><br><span class="line">                def url &#x3D; repo.url.toString()</span><br><span class="line">                if (url.startsWith(&#39;https:&#x2F;&#x2F;repo1.maven.org&#x2F;maven2&#39;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_REPOSITORY_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#39;https:&#x2F;&#x2F;jcenter.bintray.com&#x2F;&#39;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_JCENTER_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maven &#123;</span><br><span class="line">                url ALIYUN_REPOSITORY_URL</span><br><span class="line">            url ALIYUN_JCENTER_URL</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4.配置环境变量<br>（1）新建系统变量<strong>GRADLE_HOME</strong>其值为<strong>gradle</strong>的文件路径<br>（2）在path中添加 <strong>%GRADLE_HOME%\bin</strong> 变量</p>
<h2 id="2-开始搭建"><a href="#2-开始搭建" class="headerlink" title="2.开始搭建"></a>2.开始搭建</h2><p>1.克隆项目到本地 <a href="https://github.com/coderyang123/halo.git" target="_blank" rel="noopener">https://github.com/coderyang123/halo.git</a></p>
<p>2.用idea打开项目，打开后不要着急，先安装lombok插件，安装好后会提示重启IDE,重启就好。(如果之前已经安装过请忽略这一步)</p>
<p>3.重启之后在idea中配置好gradle<br><img src="https://img-blog.csdnimg.cn/20200329211059734.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>4.配置好jdk<br><img src="https://img-blog.csdnimg.cn/20200329211235359.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>一般来说，idea打开项目之后，右下角就会有提示让你下载依赖，现在我们已经配置好了jdk、gradle和lombok,这个时候点击<strong>Import Changes</strong> 让他去下载依赖就好。之前我们已经配置了gradle的国内镜像，下载速度应该比较快。</p>
<p><img src="https://img-blog.csdnimg.cn/20200329211441102.PNG#pic_center" alt="在这里插入图片描述"><br>启动以后，可能出现报错，可以去<a href="https://bbs.halo.run/d/504-themes-anatole/7" target="_blank" rel="noopener">这里</a>找解决方案。</p>
<p>成功启动以后会显示如下界面。<br><img src="https://img-blog.csdnimg.cn/2020032921173299.PNG?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="3-浏览博客界面"><a href="#3-浏览博客界面" class="headerlink" title="3.浏览博客界面"></a>3.浏览博客界面</h2><p>根据控制台提供的信息，我们在浏览器中输入127.0.0.1:8090。</p>
<p>跟着安装向导，输入相关信息。<br><img src="https://img-blog.csdnimg.cn/20200329212029411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200329212158884.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200329212210894.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>然后就会提示安装成功啦~</p>
<p>博客的后台管理页面如图：<br><img src="https://img-blog.csdnimg.cn/20200329212407686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>前台的效果：<br><img src="https://img-blog.csdnimg.cn/20200329212431265.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>然后我们就可以写文章啦~<br><img src="https://img-blog.csdnimg.cn/20200329212621894.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发布后，前台同样可以看见新文章。<br><img src="https://img-blog.csdnimg.cn/20200329212538906.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>这样我们就部署好了，之后我们就可以通过<a href="http://127.0.0.1:8090/访问。" target="_blank" rel="noopener">http://127.0.0.1:8090/访问。</a><br>接下来看怎么上手这个开源项目。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BA%8C%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/yamei.png">
      <meta itemprop="name" content="Jinji">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jinji's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%EF%BC%88%E4%BA%8C%EF%BC%89/" class="post-title-link" itemprop="url">hexo博客搭建（二）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-28 22:17:32 / 修改时间：22:17:40" itemprop="dateCreated datePublished" datetime="2020-03-28T22:17:32+08:00">2020-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>上一篇我们介绍了本地搭建一个服务器并且成功运行测试，这次我们把它部署到GitHub上公开使用。</p>
<h2 id="1-在GitHub上创建个人博客的仓库"><a href="#1-在GitHub上创建个人博客的仓库" class="headerlink" title="1    .在GitHub上创建个人博客的仓库"></a>1    .在GitHub上创建个人博客的仓库</h2><p>注意，用户部署个人博客的GitHub仓库的命名必须符合特定要求才行，格式：用户名+.github.io<br><img src="https://img-blog.csdnimg.cn/20200328214644530.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>点击create。</p>
<h2 id="2-安装部署插件"><a href="#2-安装部署插件" class="headerlink" title="2.安装部署插件"></a>2.安装部署插件</h2><p>在blog目录下安装一个部署插件。<br><img src="https://img-blog.csdnimg.cn/20200328215012885.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200328215044145.png#pic_center" alt="在这里插入图片描述"><br>安装结束后，设置_config.yml文件，修改其中最低底端deployment的配置如下。<br><img src="https://img-blog.csdnimg.cn/20200328215229244.png#pic_center" alt="在这里插入图片描述"><br>根据提示输入用户名和密码。<br><img src="https://img-blog.csdnimg.cn/20200328215431707.png#pic_center" alt="在这里插入图片描述"><br>部署完成，现在GitHub上的界面如下。<br><img src="https://img-blog.csdnimg.cn/20200328215637893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>现在我们可以在浏览器中访问<a href="https://zhujinji.github.io/" target="_blank" rel="noopener">https://zhujinji.github.io/</a>。</p>
<p>tips：如果404了，有两个可能的原因，一是环境变量的问题，二是ssh密钥的问题。</p>
<h2 id="3-更换博客主题"><a href="#3-更换博客主题" class="headerlink" title="3.更换博客主题"></a>3.更换博客主题</h2><p>我们试着换为yilia主题。<br>1.去<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">网站</a>下载主题<br>2.clone到yilia目录下<br><img src="https://img-blog.csdnimg.cn/20200328220341516.png#pic_center" alt="在这里插入图片描述">3.修改_config.yml文件中theme为yilia，保存退出<br>4.输入命令hexo clean清理之前的数据，然后输入hexo g重新生成<br>    输入hexo s在本地端口localhost:4000查看，然后输入命令hexo d在<a href="https://zhujinji.github.io/" target="_blank" rel="noopener">https://zhujinji.github.io/</a>上查看，时间可能会略有延迟。</p>
<p>我们的hexo博客就这样搭建完成啦，之后可以对其他属性进行修改~</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%EF%BC%88%E4%B8%80%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/yamei.png">
      <meta itemprop="name" content="Jinji">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jinji's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/28/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%EF%BC%88%E4%B8%80%EF%BC%89/" class="post-title-link" itemprop="url">hexo博客搭建（一）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-03-28 20:58:24 / 修改时间：21:30:27" itemprop="dateCreated datePublished" datetime="2020-03-28T20:58:24+08:00">2020-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>此文介绍Hexo建站的流程，基于b站up主CodeSheep的<a href="https://www.bilibili.com/video/av44544186?from=search&seid=1621519341015391579" target="_blank" rel="noopener">博客搭建视频</a>。<br>以下都在windows10+64位下进行演示。</p>
<h2 id="1-安装-Node-js"><a href="#1-安装-Node-js" class="headerlink" title="1.安装 Node.js"></a>1.安装 Node.js</h2><p>打开<a href="https://nodejs.org/en/" target="_blank" rel="noopener">官方网站</a>，下载。<br><img src="https://img-blog.csdnimg.cn/20200328193646467.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>安装的时候一路next就行~</p>
<h2 id="2-安装-git"><a href="#2-安装-git" class="headerlink" title="2.安装 git"></a>2.安装 git</h2><p>打开<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">官方网站</a>，选择windows系统对于的版本下载。<br><img src="https://img-blog.csdnimg.cn/20200328194018626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>安装步骤同样一路next，默认安装。<br>安装完成后，可以在开始菜单看到<br><img src="https://img-blog.csdnimg.cn/20200328194206989.png#pic_center" alt="在这里插入图片描述"><br>这个Git Bash相当于Linux中的终端窗口，之后我们用这个来打开终端。</p>
<h2 id="3-安装-hexo"><a href="#3-安装-hexo" class="headerlink" title="3.安装 hexo"></a>3.安装 hexo</h2><p>新建一个文件夹，比如我在E盘下新建 ==blog==，然后打开文件夹，在空白处点击鼠标的右键，选择 ==Git Bash Here==。<br><img src="https://img-blog.csdnimg.cn/20200328194729877.png#pic_center" alt="在这里插入图片描述"><br>检查 ==node，npm== 是否安装成功，没有成功的就重新安装node。</p>
<p><strong>我们需要先安装cnpm提高速度，以后下载时使用cnpm加速。</strong><br>在上面终端继续输入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https:<span class="comment">//registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>
<p>测试cnpm-成功！<br><img src="https://img-blog.csdnimg.cn/20200328195305575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><strong>完成后安装==hexo==</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>验证是否安装成功，输入</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
<p>出现以下信息，说明安装成功。<br><img src="https://img-blog.csdnimg.cn/20200328195911429.png#pic_center" alt="在这里插入图片描述"><br>在博客目录下运行==hexo init==，这部主要是建立整个项目。<br>结果如下：<br><img src="https://img-blog.csdnimg.cn/20200328200658292.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20200328200741360.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="4-运行命令"><a href="#4-运行命令" class="headerlink" title="4.运行命令"></a>4.运行命令</h2><p>这里我们经常用到以下命令：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo  clean #用来清理缓存文件</span><br><span class="line">hexo  g     #生成文件</span><br><span class="line">hexo  s     #运行本地服务器</span><br><span class="line">hexo  d     #上传到服务器</span><br></pre></td></tr></table></figure>
<p>我们运行==hexo s==<br><img src="https://img-blog.csdnimg.cn/20200328201035476.png#pic_center" alt="在这里插入图片描述"><br>打开浏览器，输入==localhost:4000==，可以看到<br><img src="https://img-blog.csdnimg.cn/20200328201206548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTQxMzY4Nw==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>说明本地环境搭建成功~</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>


  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jinji"
      src="/images/yamei.png">
  <p class="site-author-name" itemprop="name">Jinji</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jinji</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
